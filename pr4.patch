From 809d6478f78b3567532a4a78b704c0e80d5568c6 Mon Sep 17 00:00:00 2001
From: abobasel86 <101171178+abobasel86@users.noreply.github.com>
Date: Mon, 29 Sep 2025 14:20:01 +0300
Subject: [PATCH] Refactor front-page language toggle and PDF proxy

---
 debug.php                         |   17 -
 emergency-fix.css                 |  333 -----
 enhanced-main-site-protection.php |    0
 front-page-backup.php             | 2025 -----------------------------
 front-page.php                    | 1119 ++++++----------
 functions copy.php                |  528 --------
 functions-backup.php              |  673 ----------
 localhost-8090-test.html          |    0
 pdf-proxy.php                     |  341 +----
 style copy.css                    |  238 ----
 10 files changed, 422 insertions(+), 4852 deletions(-)
 delete mode 100644 debug.php
 delete mode 100644 emergency-fix.css
 delete mode 100644 enhanced-main-site-protection.php
 delete mode 100644 front-page-backup.php
 delete mode 100644 functions copy.php
 delete mode 100644 functions-backup.php
 delete mode 100644 localhost-8090-test.html
 delete mode 100644 style copy.css

diff --git a/debug.php b/debug.php
deleted file mode 100644
index 7f162b6..0000000
--- a/debug.php
+++ /dev/null
@@ -1,17 +0,0 @@
-<?php
-/**
- * Debug script to check which template is being used
- */
-
-// Show which template file is being loaded
-add_action('wp_head', function() {
-    if (current_user_can('administrator')) {
-        global $template;
-        echo "<!-- Current template: " . $template . " -->\n";
-        echo "<!-- Is front page: " . (is_front_page() ? 'Yes' : 'No') . " -->\n";
-        echo "<!-- Is home: " . (is_home() ? 'Yes' : 'No') . " -->\n";
-        echo "<!-- Page ID: " . get_the_ID() . " -->\n";
-        echo "<!-- Front page ID: " . get_option('page_on_front') . " -->\n";
-    }
-});
-?>
\ No newline at end of file
diff --git a/emergency-fix.css b/emergency-fix.css
deleted file mode 100644
index 0aca0e8..0000000
--- a/emergency-fix.css
+++ /dev/null
@@ -1,333 +0,0 @@
-/* 
- * عاجل: إصلاح الألوان والتنسيقات
- * High Priority Color and Layout Fix
- */
-
-/* فرض الألوان الجديدة على جميع العناصر */
-/* Force new colors on all elements */
-
-html, body {
-    background: linear-gradient(135deg, #f8fafa 0%, #ffffff 100%) !important;
-    color: #2c3e50 !important;
-    direction: rtl !important;
-    text-align: right !important;
-    font-family: 'Almarai', 'Cairo', Arial, sans-serif !important;
-}
-
-/* الألوان الأساسية للموقع */
-/* Primary site colors */
-:root {
-    --new-primary: #156b68 !important;
-    --new-accent: #caa453 !important;
-    --new-secondary: #0f5855 !important;
-}
-
-/* رأس الموقع */
-/* Site header */
-.site-header,
-header,
-.wp-block-cover,
-.has-background {
-    background: linear-gradient(135deg, #156b68 0%, #0f5855 100%) !important;
-    color: #ffffff !important;
-    padding: 3rem 0 !important;
-}
-
-/* العناوين */
-/* Headings */
-h1, h2, h3, h4, h5, h6,
-.site-title,
-.site-title a,
-.wp-block-heading,
-.entry-title,
-.page-title {
-    color: #caa453 !important;
-    font-weight: 800 !important;
-    text-shadow: 2px 2px 4px rgba(0,0,0,0.3) !important;
-}
-
-.site-title a {
-    text-decoration: none !important;
-}
-
-/* التنقل والقوائم */
-/* Navigation and menus */
-.main-navigation,
-.nav-menu,
-.menu,
-nav,
-.wp-block-navigation {
-    background: #156b68 !important;
-}
-
-.nav-menu li a,
-.menu-item a,
-.wp-block-navigation-item a,
-nav a {
-    background: linear-gradient(135deg, #156b68 0%, #0f5855 100%) !important;
-    color: #ffffff !important;
-    padding: 1rem 2rem !important;
-    margin: 0 0.5rem !important;
-    border-radius: 8px !important;
-    text-decoration: none !important;
-    font-weight: 700 !important;
-    display: inline-block !important;
-    transition: all 0.3s ease !important;
-}
-
-.nav-menu li a:hover,
-.menu-item a:hover,
-.wp-block-navigation-item a:hover,
-nav a:hover {
-    background: linear-gradient(135deg, #caa453 0%, #b8934a 100%) !important;
-    transform: translateY(-2px) !important;
-    box-shadow: 0 4px 12px rgba(21, 107, 104, 0.3) !important;
-}
-
-/* الأزرار */
-/* Buttons */
-button,
-.wp-block-button__link,
-.btn,
-input[type="submit"],
-input[type="button"],
-.wp-element-button {
-    background: linear-gradient(135deg, #156b68 0%, #0f5855 100%) !important;
-    color: #ffffff !important;
-    border: none !important;
-    padding: 0.8rem 1.5rem !important;
-    border-radius: 8px !important;
-    font-weight: 600 !important;
-    cursor: pointer !important;
-    transition: all 0.3s ease !important;
-    text-decoration: none !important;
-}
-
-button:hover,
-.wp-block-button__link:hover,
-.btn:hover,
-input[type="submit"]:hover,
-input[type="button"]:hover {
-    background: linear-gradient(135deg, #caa453 0%, #b8934a 100%) !important;
-    transform: translateY(-2px) !important;
-}
-
-/* الروابط */
-/* Links */
-a {
-    color: #156b68 !important;
-    text-decoration: none !important;
-}
-
-a:hover {
-    color: #caa453 !important;
-}
-
-/* مناطق المحتوى */
-/* Content areas */
-.entry-content,
-.wp-block-group,
-.wp-block-column,
-article,
-.post {
-    background: #ffffff !important;
-    padding: 2rem !important;
-    margin: 1rem 0 !important;
-    border-radius: 12px !important;
-    box-shadow: 0 4px 16px rgba(21, 107, 104, 0.1) !important;
-    border-left: 4px solid #caa453 !important;
-}
-
-/* الشريط الجانبي */
-/* Sidebar */
-.widget,
-.wp-block-widget,
-aside {
-    background: #ffffff !important;
-    padding: 1.5rem !important;
-    margin-bottom: 2rem !important;
-    border-radius: 12px !important;
-    box-shadow: 0 2px 8px rgba(21, 107, 104, 0.1) !important;
-    border-top: 3px solid #156b68 !important;
-}
-
-.widget-title,
-.wp-block-widget h2,
-.wp-block-widget h3 {
-    color: #156b68 !important;
-    border-bottom: 2px solid #caa453 !important;
-    padding-bottom: 0.5rem !important;
-    margin-bottom: 1rem !important;
-}
-
-/* التذييل */
-/* Footer */
-.site-footer,
-footer {
-    background: #156b68 !important;
-    color: #ffffff !important;
-    padding: 3rem 0 !important;
-    margin-top: 3rem !important;
-}
-
-.site-footer a,
-footer a {
-    color: #caa453 !important;
-}
-
-.site-footer a:hover,
-footer a:hover {
-    color: #ffffff !important;
-}
-
-/* تخصيص الكتل */
-/* Block customizations */
-.wp-block-cover__inner-container {
-    color: #ffffff !important;
-}
-
-.wp-block-quote {
-    border-right: 4px solid #caa453 !important;
-    border-left: none !important;
-    padding-right: 1rem !important;
-    padding-left: 0 !important;
-    background: rgba(21, 107, 104, 0.05) !important;
-}
-
-.wp-block-pullquote {
-    border-top: 4px solid #caa453 !important;
-    border-bottom: 4px solid #caa453 !important;
-    color: #156b68 !important;
-}
-
-/* نماذج الإدخال */
-/* Forms */
-input[type="text"],
-input[type="email"],
-input[type="search"],
-textarea,
-select {
-    border: 2px solid #e1e8ed !important;
-    border-radius: 8px !important;
-    padding: 0.8rem !important;
-    font-family: inherit !important;
-    direction: rtl !important;
-    text-align: right !important;
-}
-
-input[type="text"]:focus,
-input[type="email"]:focus,
-input[type="search"]:focus,
-textarea:focus,
-select:focus {
-    border-color: #156b68 !important;
-    box-shadow: 0 0 0 3px rgba(21, 107, 104, 0.1) !important;
-    outline: none !important;
-}
-
-/* الجداول */
-/* Tables */
-table {
-    border-collapse: collapse !important;
-    width: 100% !important;
-    background: #ffffff !important;
-    border-radius: 8px !important;
-    overflow: hidden !important;
-    box-shadow: 0 2px 8px rgba(21, 107, 104, 0.1) !important;
-}
-
-th {
-    background: #156b68 !important;
-    color: #ffffff !important;
-    padding: 1rem !important;
-    font-weight: 700 !important;
-}
-
-td {
-    padding: 1rem !important;
-    border-bottom: 1px solid #e1e8ed !important;
-}
-
-tr:hover {
-    background: rgba(21, 107, 104, 0.05) !important;
-}
-
-/* الاستجابة للهواتف */
-/* Mobile responsiveness */
-@media (max-width: 768px) {
-    .site-header,
-    header {
-        padding: 2rem 0 !important;
-    }
-    
-    h1 {
-        font-size: 2rem !important;
-    }
-    
-    .nav-menu li a,
-    .menu-item a {
-        padding: 0.8rem 1.2rem !important;
-        margin: 0.2rem !important;
-        font-size: 0.9rem !important;
-    }
-    
-    .entry-content,
-    .wp-block-group,
-    article {
-        padding: 1rem !important;
-        margin: 0.5rem 0 !important;
-    }
-}
-
-/* تأكيد الاتجah من اليمين لليسار */
-/* Ensure RTL direction */
-* {
-    direction: rtl !important;
-}
-
-.alignleft {
-    float: right !important;
-    margin-left: 1rem !important;
-    margin-right: 0 !important;
-}
-
-.alignright {
-    float: left !important;
-    margin-right: 1rem !important;
-    margin-left: 0 !important;
-}
-
-/* إخفاء العناصر غير المرغوب فيها */
-/* Hide unwanted elements */
-.wp-block-social-links {
-    justify-content: flex-end !important;
-}
-
-/* تحسينات إضافية */
-/* Additional improvements */
-body.admin-bar {
-    margin-top: 46px !important;
-}
-
-@media screen and (max-width: 782px) {
-    body.admin-bar {
-        margin-top: 32px !important;
-    }
-}
-
-/* ضمان عرض الألوان في جميع المتصفحات */
-/* Ensure colors display in all browsers */
-*, *::before, *::after {
-    -webkit-font-smoothing: antialiased !important;
-    -moz-osx-font-smoothing: grayscale !important;
-}
-
-/* فرض تطبيق الأنماط */
-/* Force style application */
-html {
-    scroll-behavior: smooth !important;
-}
-
-body {
-    background-attachment: fixed !important;
-}
\ No newline at end of file
diff --git a/enhanced-main-site-protection.php b/enhanced-main-site-protection.php
deleted file mode 100644
index e69de29..0000000
diff --git a/front-page-backup.php b/front-page-backup.php
deleted file mode 100644
index 953022e..0000000
--- a/front-page-backup.php
+++ /dev/null
@@ -1,2025 +0,0 @@
-<?php
-/**
- * Template Name: صفحة رئيسية للفعالية
- * Template for Arab Board Event 2025
- */
-
-// Get the current page ID
-$page_id = get_the_ID();
-
-// Extract event details from meta fields
-$event_title_ar = get_post_meta($page_id, '_event_title_ar', true) ?: 'ملتقى المجلس العربي للاختصاصات الصحية 2025';
-$event_title_en = get_post_meta($page_id, '_event_title_en', true) ?: 'Arab Board Health Specialties Conference 2025';
-$event_date_start = get_post_meta($page_id, '_event_date_start', true);
-$event_date_end = get_post_meta($page_id, '_event_date_end', true);
-
-// Function to convert month to Arabic
-$arabic_months = array(
-    'January' => 'يناير', 'February' => 'فبراير', 'March' => 'مارس', 'April' => 'أبريل',
-    'May' => 'مايو', 'June' => 'يونيو', 'July' => 'يوليو', 'August' => 'أغسطس',
-    'September' => 'سبتمبر', 'October' => 'أكتوبر', 'November' => 'نوفمبر', 'December' => 'ديسمبر'
-);
-
-if ($event_date_start && $event_date_end) {
-    // تأكد من أن تاريخ البداية هو الأصغر
-    $start_timestamp = strtotime($event_date_start);
-    $end_timestamp = strtotime($event_date_end);
-    
-    if ($start_timestamp > $end_timestamp) {
-        // إذا كان تاريخ البداية أكبر من النهاية، قم بتبديلهما
-        $temp = $event_date_start;
-        $event_date_start = $event_date_end;
-        $event_date_end = $temp;
-    }
-    
-    $start_day = date('d', strtotime($event_date_start));
-    $end_day = date('d', strtotime($event_date_end));
-    $month_en = date('F', strtotime($event_date_start));
-    $month_ar = $arabic_months[$month_en];
-    $year = date('Y', strtotime($event_date_start));
-    $event_date_ar = $start_day . '-' . $end_day . ' ' . $month_ar . ' ' . $year;
-} else {
-    $event_date_ar = '16-17 أكتوبر 2025';
-}
-
-$event_date_en = $event_date_start && $event_date_end ? date('d', strtotime($event_date_start)) . '-' . date('d', strtotime($event_date_end)) . ' ' . date('F Y', strtotime($event_date_start)) : '16-17 October 2025';
-$event_location_ar = get_post_meta($page_id, '_event_location_ar', true) ?: 'عمان - المملكة الأردنية الهاشمية';
-$event_location_en = get_post_meta($page_id, '_event_location_en', true) ?: 'Amman, Jordan';
-$event_description_ar = get_post_meta($page_id, '_event_subtitle_ar', true) ?: 'ملتقى علمي متخصص في الاختصاصات الصحية';
-$event_description_en = get_post_meta($page_id, '_event_subtitle_en', true) ?: 'Specialized scientific conference in health specialties';
-
-// Day 1 Data
-$day1_title_ar = 'اليوم الأول';
-$day1_title_en = 'Day 1';
-$day1_pdf = get_post_meta($page_id, '_day1_pdf', true);
-$day1_schedule = get_post_meta($page_id, '_day1_schedule', true);
-$day1_images = get_post_meta($page_id, '_day1_images', true);
-
-// Day 2 Data
-$day2_title_ar = 'اليوم الثاني';
-$day2_title_en = 'Day 2';
-$day2_pdf = get_post_meta($page_id, '_day2_pdf', true);
-$day2_schedule = get_post_meta($page_id, '_day2_schedule', true);
-$day2_images = get_post_meta($page_id, '_day2_images', true);
-
-// QR Cards
-$qr_cards = get_post_meta($page_id, '_qr_cards', true);
-if ($qr_cards && !is_array($qr_cards)) {
-    $qr_cards = maybe_unserialize($qr_cards);
-}
-if (!$qr_cards || !is_array($qr_cards)) {
-    $qr_cards = array();
-}
-?>
-<!DOCTYPE html>
-<html <?php language_attributes(); ?>>
-<head>
-    <meta charset="<?php bloginfo('charset'); ?>">
-    <meta name="viewport" content="width=device-width, initial-scale=1">
-    <title><?php wp_title('|', true, 'right'); ?></title>
-    
-    <!-- Google Fonts -->
-    <link rel="preconnect" href="https://fonts.googleapis.com">
-    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
-    <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@300;400;600;700;800;900&family=Cairo:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">
-    
-    <!-- PDF.js CDN -->
-    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
-    
-    <?php wp_head(); ?>
-</head>
-
-<body <?php body_class('event-page'); ?>>
-
-<main id="main" class="site-main">
-    
-    <!-- Language Toggle -->
-    <div class="language-toggle">
-        <button id="lang-ar" class="lang-btn active">العربية</button>
-        <button id="lang-en" class="lang-btn">English</button>
-    </div>
-
-    <!-- Event Header -->
-    <section class="event-header">
-        <div class="header-content">
-            <div class="header-main">
-                <?php 
-                $custom_logo = get_template_directory_uri() . '/assets/images/logo.png';
-                $logo_exists = file_exists(get_template_directory() . '/assets/images/logo.png');
-                
-                if ($logo_exists) : ?>
-                    <div class="logo-section">
-                        <img src="<?php echo $custom_logo; ?>" alt="<?php bloginfo('name'); ?>" class="event-logo">
-                    </div>
-                <?php elseif (has_site_icon()) : ?>
-                    <div class="logo-section">
-                        <img src="<?php echo get_site_icon_url(150); ?>" alt="<?php bloginfo('name'); ?>" class="event-logo">
-                    </div>
-                <?php endif; ?>
-                
-                <div class="title-section">
-                    <h1 class="event-title">
-                        <span class="lang-ar"><?php echo esc_html($event_title_ar); ?></span>
-                        <span class="lang-en" style="display: none;"><?php echo esc_html($event_title_en); ?></span>
-                    </h1>
-                </div>
-                
-                <?php if ($event_description_ar || $event_description_en) : ?>
-                <div class="event-description">
-                    <div class="lang-ar"><?php echo wp_kses_post($event_description_ar); ?></div>
-                    <div class="lang-en" style="display: none;"><?php echo wp_kses_post($event_description_en); ?></div>
-                </div>
-                <?php endif; ?>
-                
-                <div class="event-dates">
-                    <i class="icon-calendar"></i>
-                    <span class="lang-ar"><?php echo esc_html($event_date_ar); ?></span>
-                    <span class="lang-en" style="display: none;"><?php echo esc_html($event_date_en); ?></span>
-                </div>
-                
-                <div class="event-location">
-                    <i class="icon-location"></i>
-                    <span class="lang-ar"><?php echo esc_html($event_location_ar); ?></span>
-                    <span class="lang-en" style="display: none;"><?php echo esc_html($event_location_en); ?></span>
-                </div>
-            </div>
-        </div>
-    </section>
-
-    <!-- Navigation Tabs -->
-    <nav class="event-navigation">
-        <div class="container">
-            <ul class="nav-tabs">
-                <li><a href="#day1" class="nav-tab active">
-                    <span class="lang-ar">اليوم الأول</span>
-                    <span class="lang-en" style="display: none;">Day 1</span>
-                </a></li>
-                <li><a href="#day2" class="nav-tab">
-                    <span class="lang-ar">اليوم الثاني</span>
-                    <span class="lang-en" style="display: none;">Day 2</span>
-                </a></li>
-                <?php if (!empty($qr_cards)) : ?>
-                <li><a href="#qr-cards" class="nav-tab">
-                    <span class="lang-ar">بطاقات QR</span>
-                    <span class="lang-en" style="display: none;">QR Cards</span>
-                </a></li>
-                <?php endif; ?>
-            </ul>
-        </div>
-    </nav>
-
-    <!-- Day 1 Content -->
-    <section id="day1" class="day-section">
-        <div class="container">
-            <header class="section-header">
-                <h2>
-                    <span class="lang-ar"><?php echo esc_html($day1_title_ar); ?></span>
-                    <span class="lang-en" style="display: none;"><?php echo esc_html($day1_title_en); ?></span>
-                </h2>
-            </header>
-
-            <div class="day-content">
-                <!-- Schedule Section - Full Width -->
-                <?php if (!empty($day1_schedule)) : ?>
-                <div class="schedule-section full-width">
-                    <h3>
-                        <span class="lang-ar">برنامج اليوم الأول</span>
-                        <span class="lang-en" style="display: none;">Day One Schedule</span>
-                    </h3>
-                    
-                    <div class="schedule-table">
-                        <table>
-                            <thead>
-                                <tr>
-                                    <th>
-                                        <span class="lang-ar">الوقت</span>
-                                        <span class="lang-en" style="display: none;">Time</span>
-                                    </th>
-                                    <th>
-                                        <span class="lang-ar">النشاط</span>
-                                        <span class="lang-en" style="display: none;">Activity</span>
-                                    </th>
-                                </tr>
-                            </thead>
-                            <tbody>
-                                <?php foreach ($day1_schedule as $item) : ?>
-                                <tr>
-                                    <td class="time"><?php echo esc_html($item['time']); ?></td>
-                                    <td class="activity">
-                                        <span class="lang-ar"><?php echo esc_html($item['activity_ar']); ?></span>
-                                        <span class="lang-en" style="display: none;"><?php echo esc_html($item['activity_en']); ?></span>
-                                    </td>
-                                </tr>
-                                <?php endforeach; ?>
-                            </tbody>
-                        </table>
-                    </div>
-                </div>
-                <?php endif; ?>
-
-                <!-- PDF Section - Full Width -->
-                <?php if ($day1_pdf) : ?>
-                <div class="pdf-section full-width">
-                    <h3>
-                        <span class="lang-ar">ملف PDF - <?php echo esc_html($day1_title_ar); ?></span>
-                        <span class="lang-en" style="display: none;">PDF File - <?php echo esc_html($day1_title_en); ?></span>
-                    </h3>
-                    
-                    <div class="pdf-viewer">
-                        <div class="pdf-controls">
-                            <button class="pdf-btn" id="prev-page-day1">السابق</button>
-                            <span class="page-info">
-                                <span id="page-num-day1">1</span> / <span id="page-count-day1">0</span>
-                            </span>
-                            <button class="pdf-btn" id="next-page-day1">التالي</button>
-                            <button class="pdf-btn zoom-in" data-target="day1">تكبير</button>
-                            <button class="pdf-btn zoom-out" data-target="day1">تصغير</button>
-                            <a href="<?php echo esc_url($day1_pdf); ?>?download=1&t=<?php echo time(); ?>" class="pdf-btn download-btn" target="_blank" data-no-idm="true">تحميل</a>
-                        </div>
-                        
-                        <div class="pdf-container">
-                            <canvas id="pdf-canvas-day1"></canvas>
-                            <iframe id="pdf-iframe-day1" style="display: none; width: 100%; height: 600px; border: 1px solid #ddd; border-radius: 4px;"></iframe>
-                        </div>
-                        
-                        <div class="pdf-loading" id="pdf-loading-day1">
-                            <div class="spinner"></div>
-                            <p>جاري تحميل الملف...</p>
-                        </div>
-                    </div>
-                    
-                    <script>
-                        // حل بسيط ومباشر لعرض PDF
-                        jQuery(document).ready(function($) {
-                            const pdfUrl = '<?php echo $day1_pdf; ?>';
-                            const iframe = $('#pdf-iframe-day1');
-                            const loading = $('#pdf-loading-day1');
-                            const canvas = $('#pdf-canvas-day1');
-                            
-                            console.log('PDF URL for day1:', pdfUrl);
-                            
-                            if (pdfUrl && pdfUrl.trim() !== '' && iframe.length) {
-                                // إخفاء canvas واستخدام iframe
-                                canvas.hide();
-                                loading.show();
-                                
-                                // تحميل PDF في iframe
-                                iframe.attr('src', pdfUrl + '#toolbar=1&navpanes=1&scrollbar=1&view=FitH');
-                                
-                                // إظهار iframe بعد التحميل
-                                iframe.on('load', function() {
-                                    loading.hide();
-                                    iframe.show();
-                                    console.log('PDF loaded for day1');
-                                });
-                                
-                                // معالجة الأخطاء
-                                setTimeout(function() {
-                                    if (loading.is(':visible')) {
-                                        loading.html('<div style="text-align: center; padding: 2rem;"><p style="color: #d32f2f;">خطأ في تحميل PDF</p><a href="' + pdfUrl + '" target="_blank" style="background: #156b68; color: white; padding: 0.5rem 1rem; text-decoration: none; border-radius: 4px;">فتح في نافذة جديدة</a></div>');
-                                    }
-                                }, 5000);
-                            }
-                        });
-                    </script>
-                </div>
-                <?php endif; ?>
-                
-                <?php if (!empty($day1_images)) : ?>
-                <div class="images-section">
-                    <h3>
-                        <span class="lang-ar">صور اليوم الأول</span>
-                        <span class="lang-en" style="display: none;">Day One Images</span>
-                    </h3>
-                    
-                    <div class="images-gallery">
-                        <?php foreach ($day1_images as $image_url) : ?>
-                        <div class="image-item" data-src="<?php echo esc_url($image_url); ?>">
-                            <img src="<?php echo esc_url($image_url); ?>" alt="Day 1 Image" loading="lazy">
-                            <div class="image-overlay">
-                                <span class="zoom-icon">🔍</span>
-                            </div>
-                        </div>
-                        <?php endforeach; ?>
-                    </div>
-                </div>
-                <?php endif; ?>
-            </div>
-        </div>
-    </section>
-
-    <!-- Day 2 Content -->
-    <section id="day2" class="day-section">
-        <div class="container">
-            <header class="section-header">
-                <h2>
-                    <span class="lang-ar"><?php echo esc_html($day2_title_ar); ?></span>
-                    <span class="lang-en" style="display: none;"><?php echo esc_html($day2_title_en); ?></span>
-                </h2>
-            </header>
-
-            <div class="day-content">
-                <!-- Schedule Section - Full Width -->
-                <?php if (!empty($day2_schedule)) : ?>
-                <div class="schedule-section full-width">
-                    <h3>
-                        <span class="lang-ar">برنامج اليوم الثاني</span>
-                        <span class="lang-en" style="display: none;">Day Two Schedule</span>
-                    </h3>
-                    
-                    <div class="schedule-table">
-                        <table>
-                            <thead>
-                                <tr>
-                                    <th>
-                                        <span class="lang-ar">الوقت</span>
-                                        <span class="lang-en" style="display: none;">Time</span>
-                                    </th>
-                                    <th>
-                                        <span class="lang-ar">النشاط</span>
-                                        <span class="lang-en" style="display: none;">Activity</span>
-                                    </th>
-                                </tr>
-                            </thead>
-                            <tbody>
-                                <?php foreach ($day2_schedule as $item) : ?>
-                                <tr>
-                                    <td class="time"><?php echo esc_html($item['time']); ?></td>
-                                    <td class="activity">
-                                        <span class="lang-ar"><?php echo esc_html($item['activity_ar']); ?></span>
-                                        <span class="lang-en" style="display: none;"><?php echo esc_html($item['activity_en']); ?></span>
-                                    </td>
-                                </tr>
-                                <?php endforeach; ?>
-                            </tbody>
-                        </table>
-                    </div>
-                </div>
-                <?php endif; ?>
-
-                <!-- PDF Section - Full Width -->
-                <?php if ($day2_pdf) : ?>
-                <div class="pdf-section full-width">
-                    <h3>
-                        <span class="lang-ar">ملف PDF - <?php echo esc_html($day2_title_ar); ?></span>
-                        <span class="lang-en" style="display: none;">PDF File - <?php echo esc_html($day2_title_en); ?></span>
-                    </h3>
-                    
-                    <div class="pdf-viewer">
-                        <div class="pdf-controls">
-                            <button class="pdf-btn" id="prev-page-day2">السابق</button>
-                            <span class="page-info">
-                                <span id="page-num-day2">1</span> / <span id="page-count-day2">0</span>
-                            </span>
-                            <button class="pdf-btn" id="next-page-day2">التالي</button>
-                            <button class="pdf-btn zoom-in" data-target="day2">تكبير</button>
-                            <button class="pdf-btn zoom-out" data-target="day2">تصغير</button>
-                            <a href="<?php echo esc_url($day2_pdf); ?>?download=1&t=<?php echo time(); ?>" class="pdf-btn download-btn" target="_blank" data-no-idm="true">تحميل</a>
-                        </div>
-                        
-                        <div class="pdf-container">
-                            <canvas id="pdf-canvas-day2"></canvas>
-                            <iframe id="pdf-iframe-day2" style="display: none; width: 100%; height: 600px; border: 1px solid #ddd; border-radius: 4px;"></iframe>
-                        </div>
-                        
-                        <div class="pdf-loading" id="pdf-loading-day2">
-                            <div class="spinner"></div>
-                            <p>جاري تحميل الملف...</p>
-                        </div>
-                    </div>
-                    
-                    <script>
-                        // حل بسيط ومباشر لعرض PDF
-                        jQuery(document).ready(function($) {
-                            const pdfUrl = '<?php echo $day2_pdf; ?>';
-                            const iframe = $('#pdf-iframe-day2');
-                            const loading = $('#pdf-loading-day2');
-                            const canvas = $('#pdf-canvas-day2');
-                            
-                            console.log('PDF URL for day2:', pdfUrl);
-                            
-                            if (pdfUrl && pdfUrl.trim() !== '' && iframe.length) {
-                                // إخفاء canvas واستخدام iframe
-                                canvas.hide();
-                                loading.show();
-                                
-                                // تحميل PDF في iframe
-                                iframe.attr('src', pdfUrl + '#toolbar=1&navpanes=1&scrollbar=1&view=FitH');
-                                
-                                // إظهار iframe بعد التحميل
-                                iframe.on('load', function() {
-                                    loading.hide();
-                                    iframe.show();
-                                    console.log('PDF loaded for day2');
-                                });
-                                
-                                // معالجة الأخطاء
-                                setTimeout(function() {
-                                    if (loading.is(':visible')) {
-                                        loading.html('<div style="text-align: center; padding: 2rem;"><p style="color: #d32f2f;">خطأ في تحميل PDF</p><a href="' + pdfUrl + '" target="_blank" style="background: #156b68; color: white; padding: 0.5rem 1rem; text-decoration: none; border-radius: 4px;">فتح في نافذة جديدة</a></div>');
-                                    }
-                                }, 5000);
-                            }
-                        });
-                    </script>
-                </div>
-                <?php endif; ?>
-                
-                <?php if (!empty($day2_images)) : ?>
-                <div class="images-section">
-                    <h3>
-                        <span class="lang-ar">صور اليوم الثاني</span>
-                        <span class="lang-en" style="display: none;">Day Two Images</span>
-                    </h3>
-                    
-                    <div class="images-gallery">
-                        <?php foreach ($day2_images as $image_url) : ?>
-                        <div class="image-item" data-src="<?php echo esc_url($image_url); ?>">
-                            <img src="<?php echo esc_url($image_url); ?>" alt="Day 2 Image" loading="lazy">
-                            <div class="image-overlay">
-                                <span class="zoom-icon">🔍</span>
-                            </div>
-                        </div>
-                        <?php endforeach; ?>
-                    </div>
-                </div>
-                <?php endif; ?>
-            </div>
-        </div>
-    </section>
-
-    <!-- QR Cards Section -->
-    <?php if (!empty($qr_cards)) : ?>
-    <section id="qr-cards" class="qr-section">
-        <div class="container">
-            <header class="section-header">
-                <h2>
-                    <span class="lang-ar">بطاقات QR</span>
-                    <span class="lang-en" style="display: none;">QR Cards</span>
-                </h2>
-                <p>
-                    <span class="lang-ar">امسح الرموز للوصول السريع للمواقع والملفات</span>
-                    <span class="lang-en" style="display: none;">Scan the codes for quick access to websites and files</span>
-                </p>
-            </header>
-
-            <div class="qr-cards-grid">
-                <?php foreach ($qr_cards as $card) : ?>
-                <div class="qr-card">
-                    <div class="qr-image">
-                        <?php if (!empty($card['qr_image'])) : ?>
-                            <img src="<?php echo esc_url($card['qr_image']); ?>" alt="QR Code">
-                        <?php else : ?>
-                            <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=<?php echo urlencode($card['url']); ?>" alt="QR Code">
-                        <?php endif; ?>
-                    </div>
-                    
-                    <div class="qr-content">
-                        <h3 class="qr-title">
-                            <span class="lang-ar"><?php echo esc_html($card['name_ar']); ?></span>
-                            <span class="lang-en" style="display: none;"><?php echo esc_html($card['name_en']); ?></span>
-                        </h3>
-                        
-                        <div class="qr-actions">
-                            <a href="<?php echo esc_url($card['url']); ?>" target="_blank" class="qr-link-btn">
-                                <span class="lang-ar">فتح الرابط</span>
-                                <span class="lang-en" style="display: none;">Open Link</span>
-                            </a>
-                            
-                            <button class="qr-share-btn" data-url="<?php echo esc_url($card['url']); ?>" 
-                                    data-title-ar="<?php echo esc_attr($card['name_ar']); ?>" 
-                                    data-title-en="<?php echo esc_attr($card['name_en']); ?>">
-                                <span class="lang-ar">مشاركة</span>
-                                <span class="lang-en" style="display: none;">Share</span>
-                            </button>
-                        </div>
-                    </div>
-                </div>
-                <?php endforeach; ?>
-            </div>
-        </div>
-    </section>
-    <?php endif; ?>
-
-    <!-- Floating Action Buttons -->
-    <div class="floating-actions">
-        <button class="fab print-btn" title="طباعة">
-            <span class="fab-icon">🖨️</span>
-        </button>
-        <button class="fab scroll-top-btn" title="أعلى الصفحة">
-            <span class="fab-icon">⬆️</span>
-        </button>
-        <button class="fab share-btn" title="مشاركة">
-            <span class="fab-icon">📤</span>
-        </button>
-    </div>
-</main>
-
-<!-- Lightbox Modal -->
-<div id="lightbox" class="lightbox">
-    <div class="lightbox-content">
-        <button class="lightbox-close">&times;</button>
-        <img id="lightbox-image" src="" alt="">
-        <div class="lightbox-nav">
-            <button class="lightbox-prev">❮</button>
-            <button class="lightbox-next">❯</button>
-        </div>
-    </div>
-</div>
-
-<!-- CLEAN CSS - NO DUPLICATES -->
-<style>
-/* CSS Variables */
-:root {
-    --primary-color: #156b68;
-    --accent-color: #caa453;
-    --secondary-color: #0f5855;
-    --white: #ffffff;
-    --text-color: #2c3e50;
-    --text-light: #5a6c7d;
-    --border-color: #e1e8ed;
-    --shadow: 0 4px 16px rgba(21, 107, 104, 0.15);
-    --shadow-lg: 0 8px 32px rgba(21, 107, 104, 0.2);
-    --border-radius: 12px;
-    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
-}
-
-/* Reset */
-* {
-    margin: 0;
-    padding: 0;
-    box-sizing: border-box;
-}
-
-body {
-    font-family: 'Almarai', 'Cairo', Arial, sans-serif !important;
-    background: linear-gradient(135deg, #f8fafa 0%, #ffffff 100%) !important;
-    color: var(--text-color) !important;
-    direction: rtl !important;
-    text-align: right !important;
-    line-height: 1.6;
-    font-size: 16px;
-}
-
-/* Hide WordPress elements */
-.admin-bar, .wp-toolbar, #wpadminbar {
-    display: none !important;
-}
-
-.container {
-    max-width: 1200px;
-    margin: 0 auto;
-    padding: 0 2rem;
-}
-
-/* Language Toggle */
-.language-toggle {
-    position: fixed;
-    top: 2rem;
-    right: 2rem;
-    z-index: 1000;
-    display: flex;
-    background: var(--white);
-    border-radius: 20px;
-    padding: 0.5rem;
-    box-shadow: var(--shadow);
-    border: 2px solid var(--primary-color);
-}
-
-.lang-btn {
-    background: transparent;
-    color: var(--primary-color);
-    border: none;
-    padding: 0.6rem 1.2rem;
-    border-radius: 15px;
-    cursor: pointer;
-    font-weight: 700;
-    font-size: 0.9rem;
-    transition: var(--transition);
-    min-width: 60px;
-}
-
-.lang-btn.active {
-    background: var(--primary-color);
-    color: var(--white);
-}
-
-.lang-btn:hover {
-    background: var(--accent-color);
-    color: var(--white);
-}
-
-/* Event Header */
-.event-header {
-    background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
-    color: var(--white);
-    padding: 0.5rem 0 !important;
-    position: relative;
-    overflow: hidden;
-    box-shadow: var(--shadow-lg);
-    border-bottom: 4px solid var(--accent-color);
-}
-
-.event-header::before {
-    content: '';
-    position: absolute;
-    top: 0;
-    left: 0;
-    right: 0;
-    bottom: 0;
-    background: radial-gradient(circle at 25% 25%, rgba(202, 164, 83, 0.1) 0%, transparent 50%);
-}
-
-.header-content {
-    position: relative;
-    z-index: 2;
-    width: 100%;
-    padding: 0 1rem;
-}
-
-.header-main {
-    position: relative;
-    margin-bottom: 0.5rem !important;
-    display: flex;
-    flex-direction: column;
-    align-items: center;
-    justify-content: center;
-    gap: 0.1rem !important;
-    padding: 0 !important;
-}
-
-.logo-section {
-    text-align: center;
-}
-
-.title-section {
-    width: 100%;
-    text-align: center;
-    display: flex;
-    flex-direction: column;
-    align-items: center;
-    justify-content: center;
-}
-
-.event-logo {
-    height: 150px;
-    width: auto;
-    max-width: 180px;
-    object-fit: contain;
-    border-radius: 8px;
-    background: transparent;
-    padding: 0;
-    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
-}
-
-.event-title {
-    font-size: 1.8rem;
-    font-weight: 900;
-    margin: 0;
-    color: var(--accent-color);
-    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.4);
-    line-height: 1.2;
-}
-
-.event-description {
-    text-align: center !important;
-    font-size: 1.4rem !important;
-    margin: 0.8rem auto 1.5rem auto !important;
-    width: 100% !important;
-    display: block !important;
-    position: relative !important;
-    opacity: 0.95 !important;
-    line-height: 1.6 !important;
-    font-weight: 600 !important;
-    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3) !important;
-}
-
-.event-description div {
-    text-align: center !important;
-    width: 100% !important;
-    margin: 0 auto !important;
-    line-height: 1.6 !important;
-    padding: 0 1rem !important;
-    display: block !important;
-    max-width: none !important;
-    font-size: inherit !important;
-    font-weight: inherit !important;
-}
-
-.event-dates {
-    display: flex;
-    align-items: center;
-    justify-content: center;
-    gap: 0.8rem;
-    padding: 0.6rem 1rem;
-    margin: 0.8rem auto 0rem auto !important;
-    font-weight: 300;
-    font-size: 1.1rem;
-    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
-    background: none !important;
-    background-color: transparent !important;
-    border: none !important;
-    border-radius: 0 !important;
-    backdrop-filter: none !important;
-    box-shadow: none !important;
-    width: 100%;
-    text-align: center;
-}
-
-.event-location {
-    display: flex;
-    align-items: center;
-    justify-content: center;
-    gap: 0.8rem;
-    padding: 0.6rem 1rem;
-    margin: -0.8rem auto 1.5rem auto !important;
-    font-weight: 300;
-    font-size: 1.1rem;
-    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
-    background: none !important;
-    background-color: transparent !important;
-    border: none !important;
-    border-radius: 0 !important;
-    backdrop-filter: none !important;
-    box-shadow: none !important;
-    width: 100%;
-    text-align: center;
-}
-
-/* Navigation */
-.event-navigation {
-    background: var(--white);
-    border-bottom: 3px solid var(--primary-color);
-    position: sticky;
-    top: 0;
-    z-index: 100;
-    box-shadow: var(--shadow);
-}
-
-.nav-tabs {
-    display: flex;
-    justify-content: center;
-    list-style: none;
-    margin: 0;
-    padding: 0;
-    gap: 0.5rem;
-}
-
-.nav-tabs li {
-    margin: 0;
-}
-
-.nav-tab {
-    display: inline-block;
-    padding: 1rem 2rem;
-    color: var(--text-color);
-    text-decoration: none;
-    border-bottom: 4px solid transparent;
-    transition: var(--transition);
-    font-weight: 700;
-    position: relative;
-    font-size: 1rem;
-}
-
-.nav-tab:hover,
-.nav-tab.active {
-    color: var(--white);
-    border-bottom-color: var(--accent-color);
-    background: var(--primary-color);
-}
-
-/* Day Sections */
-.day-section {
-    margin: 3rem 0;
-    padding: 3rem 0;
-    background: var(--white);
-    border-radius: var(--border-radius);
-    box-shadow: var(--shadow);
-    position: relative;
-    overflow: hidden;
-}
-
-.day-section::before {
-    content: '';
-    position: absolute;
-    top: 0;
-    left: 0;
-    width: 100%;
-    height: 4px;
-    background: linear-gradient(135deg, var(--accent-color) 0%, #b8934a 100%);
-}
-
-.section-header {
-    text-align: center;
-    margin-bottom: 2rem;
-    padding: 0 2rem;
-}
-
-.section-header h2 {
-    font-size: 2rem;
-    font-weight: 800;
-    color: var(--primary-color);
-    margin-bottom: 1rem;
-    position: relative;
-    display: inline-block;
-}
-
-.section-header h2::after {
-    content: '';
-    position: absolute;
-    bottom: -8px;
-    left: 50%;
-    transform: translateX(-50%);
-    width: 60px;
-    height: 3px;
-    background: var(--accent-color);
-    border-radius: 2px;
-}
-
-.day-content {
-    padding: 0 2rem;
-}
-
-.row {
-    display: grid;
-    grid-template-columns: 1fr 1fr;
-    gap: 2rem;
-    margin-bottom: 2rem;
-}
-
-/* PDF Section - Enhanced Anti-IDM Protection */
-.pdf-section {
-    background: #f8fafa;
-    border-radius: var(--border-radius);
-    padding: 1.5rem;
-    border: 2px solid var(--primary-color);
-    box-shadow: var(--shadow);
-    /* Hide from download managers */
-    -webkit-user-select: none;
-    -moz-user-select: none;
-    -ms-user-select: none;
-    user-select: none;
-    /* Prevent IDM detection */
-    position: relative;
-    z-index: 10;
-}
-
-.pdf-section::before {
-    content: '';
-    position: absolute;
-    top: 0;
-    left: 0;
-    right: 0;
-    bottom: 0;
-    background: transparent;
-    z-index: -1;
-    pointer-events: none;
-}
-
-.pdf-section h3 {
-    color: var(--primary-color);
-    font-size: 1.3rem;
-    font-weight: 700;
-    margin-bottom: 1rem;
-    text-align: center;
-    border-bottom: 2px solid var(--accent-color);
-    padding-bottom: 0.5rem;
-}
-
-.pdf-viewer {
-    background: var(--white);
-    border-radius: var(--border-radius);
-    overflow: hidden;
-}
-
-.pdf-controls {
-    display: flex;
-    justify-content: center;
-    align-items: center;
-    gap: 0.8rem;
-    padding: 0.8rem;
-    background: var(--primary-color);
-    color: var(--white);
-    flex-wrap: wrap;
-}
-
-.pdf-btn {
-    background: var(--accent-color);
-    color: var(--white);
-    border: none;
-    padding: 0.5rem 1rem;
-    border-radius: var(--border-radius);
-    cursor: pointer;
-    font-weight: 600;
-    font-size: 0.9rem;
-    transition: var(--transition);
-    text-decoration: none;
-}
-
-.pdf-btn:hover {
-    background: #b8934a;
-}
-
-.page-info {
-    background: rgba(255, 255, 255, 0.2);
-    padding: 0.4rem 0.8rem;
-    border-radius: var(--border-radius);
-    font-weight: 600;
-    font-size: 0.9rem;
-}
-
-.pdf-container {
-    display: flex;
-    justify-content: center;
-    align-items: center;
-    min-height: 400px;
-    padding: 1rem;
-    background: #f8f9fa;
-    border-radius: var(--border-radius);
-    overflow: auto;
-}
-
-.pdf-container canvas {
-    max-width: 100%;
-    height: auto;
-    border: 1px solid var(--border-color);
-    border-radius: 4px;
-    box-shadow: var(--shadow);
-}
-
-.pdf-container iframe {
-    width: 100%;
-    height: 600px;
-    border: 1px solid var(--border-color);
-    border-radius: 4px;
-    box-shadow: var(--shadow);
-    background: white;
-    /* Enhanced IDM protection */
-    pointer-events: auto;
-    user-select: none;
-    -webkit-user-select: none;
-    -moz-user-select: none;
-    -ms-user-select: none;
-    /* Hide from download detection */
-    content-visibility: auto;
-    opacity: 0.999; /* Trick IDM detection */
-    filter: blur(0px) brightness(1.001); /* Subtle filter to confuse IDM */
-    /* Additional protection */
-    -webkit-touch-callout: none;
-    -webkit-tap-highlight-color: transparent;
-    /* Block contextmenu and selection */
-    -webkit-context-menu: none;
-    -moz-context-menu: none;
-    context-menu: none;
-}
-
-/* Hide iframe from IDM when it's loading */
-.pdf-container iframe[data-anti-idm="true"] {
-    visibility: visible !important;
-    display: block !important;
-    transform: scale(1.0001); /* Microscopic transform to avoid detection */
-}
-
-/* Prevent IDM overlay detection */
-.pdf-container iframe::before,
-.pdf-container iframe::after {
-    content: none !important;
-    display: none !important;
-}
-
-.pdf-loading {
-    display: flex;
-    flex-direction: column;
-    align-items: center;
-    gap: 1rem;
-    color: var(--primary-color);
-    padding: 2rem;
-}
-
-.spinner {
-    width: 30px;
-    height: 30px;
-    border: 3px solid var(--border-color);
-    border-top: 3px solid var(--primary-color);
-    border-radius: 50%;
-    animation: spin 1s linear infinite;
-}
-
-@keyframes spin {
-    0% { transform: rotate(0deg); }
-    100% { transform: rotate(360deg); }
-}
-
-/* Schedule Section */
-.schedule-section {
-    background: #f8fafa;
-    border-radius: var(--border-radius);
-    padding: 1.5rem;
-    border: 2px solid var(--accent-color);
-    box-shadow: var(--shadow);
-}
-
-.schedule-section h3 {
-    color: var(--primary-color);
-    font-size: 1.3rem;
-    font-weight: 700;
-    margin-bottom: 1rem;
-    text-align: center;
-    border-bottom: 2px solid var(--primary-color);
-    padding-bottom: 0.5rem;
-}
-
-.schedule-table {
-    overflow-x: auto;
-}
-
-.schedule-table table {
-    width: 100%;
-    border-collapse: collapse;
-    background: var(--white);
-    border-radius: var(--border-radius);
-    overflow: hidden;
-}
-
-.schedule-table th {
-    background: var(--primary-color);
-    color: var(--white);
-    padding: 0.8rem;
-    text-align: center;
-    font-weight: 700;
-    font-size: 0.9rem;
-}
-
-.schedule-table td {
-    padding: 0.8rem;
-    border-bottom: 1px solid var(--border-color);
-    text-align: center;
-    font-size: 0.9rem;
-}
-
-.schedule-table .time {
-    background: rgba(21, 107, 104, 0.05);
-    font-weight: 700;
-    color: var(--primary-color);
-    width: 25%;
-}
-
-.schedule-table .activity {
-    text-align: right;
-    padding-right: 1rem;
-}
-
-/* Images Gallery */
-.images-section {
-    margin-top: 2rem;
-    padding-top: 2rem;
-    border-top: 2px solid var(--border-color);
-}
-
-.images-section h3 {
-    color: var(--primary-color);
-    font-size: 1.5rem;
-    font-weight: 700;
-    margin-bottom: 1.5rem;
-    text-align: center;
-    position: relative;
-}
-
-.images-section h3::after {
-    content: '';
-    position: absolute;
-    bottom: -6px;
-    left: 50%;
-    transform: translateX(-50%);
-    width: 50px;
-    height: 3px;
-    background: var(--accent-color);
-    border-radius: 2px;
-}
-
-.images-gallery {
-    display: grid;
-    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
-    gap: 1rem;
-    margin-bottom: 1.5rem;
-}
-
-.image-item {
-    position: relative;
-    border-radius: var(--border-radius);
-    overflow: hidden;
-    box-shadow: var(--shadow);
-    cursor: pointer;
-    transition: var(--transition);
-    background: var(--white);
-}
-
-.image-item:hover {
-    transform: translateY(-4px);
-    box-shadow: var(--shadow-lg);
-}
-
-.image-item img {
-    width: 100%;
-    height: 150px;
-    object-fit: cover;
-    transition: var(--transition);
-}
-
-.image-overlay {
-    position: absolute;
-    top: 0;
-    left: 0;
-    right: 0;
-    bottom: 0;
-    background: rgba(21, 107, 104, 0.8);
-    display: flex;
-    align-items: center;
-    justify-content: center;
-    opacity: 0;
-    transition: var(--transition);
-}
-
-.image-item:hover .image-overlay {
-    opacity: 1;
-}
-
-.zoom-icon {
-    font-size: 1.5rem;
-    color: var(--white);
-}
-
-/* QR Section */
-.qr-section {
-    background: #f8fafa;
-    padding: 3rem 0;
-    margin-top: 3rem;
-    border-radius: var(--border-radius);
-    position: relative;
-    overflow: hidden;
-}
-
-.qr-section::before {
-    content: '';
-    position: absolute;
-    top: 0;
-    left: 0;
-    width: 100%;
-    height: 4px;
-    background: linear-gradient(135deg, var(--accent-color) 0%, #b8934a 100%);
-}
-
-.qr-cards-grid {
-    display: grid;
-    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
-    gap: 1.5rem;
-    margin-top: 2rem;
-}
-
-.qr-card {
-    background: var(--white);
-    border-radius: var(--border-radius);
-    padding: 1.5rem;
-    text-align: center;
-    box-shadow: var(--shadow);
-    border: 2px solid var(--primary-color);
-    transition: var(--transition);
-}
-
-.qr-card:hover {
-    transform: translateY(-6px);
-    box-shadow: var(--shadow-lg);
-}
-
-.qr-image {
-    margin-bottom: 1rem;
-    display: flex;
-    justify-content: center;
-}
-
-.qr-image img {
-    width: 120px;
-    height: 120px;
-    border-radius: var(--border-radius);
-    box-shadow: var(--shadow);
-}
-
-.qr-title {
-    color: var(--primary-color);
-    font-size: 1.1rem;
-    font-weight: 700;
-    margin-bottom: 0.8rem;
-}
-
-.qr-actions {
-    display: flex;
-    gap: 0.8rem;
-    justify-content: center;
-    flex-wrap: wrap;
-}
-
-.qr-link-btn,
-.qr-share-btn {
-    background: var(--primary-color);
-    color: var(--white);
-    border: none;
-    padding: 0.6rem 1rem;
-    border-radius: var(--border-radius);
-    cursor: pointer;
-    font-weight: 600;
-    text-decoration: none;
-    transition: var(--transition);
-    font-size: 0.9rem;
-}
-
-.qr-share-btn {
-    background: var(--accent-color);
-}
-
-.qr-link-btn:hover {
-    background: var(--secondary-color);
-}
-
-.qr-share-btn:hover {
-    background: #b8934a;
-}
-
-/* Floating Actions */
-.floating-actions {
-    position: fixed;
-    bottom: 2rem;
-    left: 2rem;
-    z-index: 1000;
-    display: flex;
-    flex-direction: column;
-    gap: 0.8rem;
-}
-
-.fab {
-    width: 48px;
-    height: 48px;
-    border-radius: 50%;
-    background: var(--primary-color);
-    color: var(--white);
-    border: none;
-    cursor: pointer;
-    display: flex;
-    align-items: center;
-    justify-content: center;
-    font-size: 1.2rem;
-    box-shadow: var(--shadow);
-    transition: var(--transition);
-}
-
-.fab:hover {
-    transform: scale(1.1);
-    box-shadow: var(--shadow-lg);
-}
-
-.print-btn {
-    background: var(--accent-color);
-}
-
-/* Lightbox */
-.lightbox {
-    display: none;
-    position: fixed;
-    top: 0;
-    left: 0;
-    width: 100%;
-    height: 100%;
-    background: rgba(0, 0, 0, 0.9);
-    z-index: 10000;
-    align-items: center;
-    justify-content: center;
-}
-
-.lightbox.active {
-    display: flex;
-}
-
-.lightbox-content {
-    position: relative;
-    max-width: 90%;
-    max-height: 90%;
-}
-
-.lightbox-close {
-    position: absolute;
-    top: -40px;
-    right: 0;
-    background: rgba(0, 0, 0, 0.5);
-    border: none;
-    color: var(--white);
-    font-size: 1.5rem;
-    cursor: pointer;
-    width: 35px;
-    height: 35px;
-    border-radius: 50%;
-    transition: var(--transition);
-}
-
-.lightbox-close:hover {
-    background: rgba(255, 255, 255, 0.2);
-}
-
-#lightbox-image {
-    max-width: 100%;
-    max-height: 100%;
-    border-radius: var(--border-radius);
-}
-
-/* Language visibility control */
-.lang-en {
-    display: none !important;
-}
-
-.lang-ar {
-    display: block !important;
-}
-
-body.en-active .lang-en {
-    display: block !important;
-}
-
-body.en-active .lang-ar {
-    display: none !important;
-}
-
-body.ar-active .lang-ar {
-    display: block !important;
-}
-
-body.ar-active .lang-en {
-    display: none !important;
-}
-
-/* Override inline styles */
-body.en-active .lang-en[style*="display: none"] {
-    display: block !important;
-}
-
-body.ar-active .lang-ar[style*="display: none"] {
-    display: block !important;
-}
-
-body.en-active .lang-ar[style*="display: block"] {
-    display: none !important;
-}
-
-body.ar-active .lang-en[style*="display: block"] {
-    display: none !important;
-}
-
-/* Mobile Responsive */
-@media (max-width: 768px) {
-    .event-header {
-        padding: 0.3rem 0 !important;
-    }
-    
-    .header-main {
-        text-align: center;
-        gap: 0.05rem !important;
-        margin-bottom: 0.2rem !important;
-        display: flex;
-        flex-direction: column;
-        align-items: center;
-    }
-    
-    .logo-section {
-        margin-bottom: 0.5rem;
-    }
-    
-    .event-logo {
-        height: 130px;
-        width: auto;
-        max-width: 160px;
-    }
-    
-    .title-section {
-        padding: 0;
-        text-align: center !important;
-        width: 100% !important;
-        margin: 0;
-        display: flex !important;
-        flex-direction: column !important;
-        align-items: center !important;
-        justify-content: center !important;
-    }
-    
-    .event-title {
-        font-size: 1.3rem;
-        text-align: center !important;
-        width: 100% !important;
-        margin: 0 auto !important;
-    }
-    
-    .event-title span {
-        text-align: center !important;
-        display: block !important;
-        width: 100% !important;
-    }
-    
-    .event-description {
-        text-align: center !important;
-        width: 100% !important;
-        margin: 0.8rem auto 1rem auto !important;
-        padding: 0 0.5rem !important;
-        font-size: 1.2rem !important;
-    }
-    
-    .event-description div,
-    .event-description .lang-ar,
-    .event-description .lang-en {
-        text-align: center !important;
-        margin: 0 auto !important;
-        width: 100% !important;
-        padding: 0 0.5rem !important;
-    }
-    
-    .event-dates {
-        width: 100%;
-        justify-content: center;
-        text-align: center;
-        font-size: 1rem;
-        padding: 0.1rem;
-        margin: 0.1rem auto 0rem auto !important;
-    }
-    
-    .event-location {
-        width: 100%;
-        justify-content: center;
-        text-align: center;
-        font-size: 1rem;
-        padding: 0.1rem;
-        margin: -0.5rem auto 0.8rem auto !important;
-    }
-    
-    .language-toggle {
-        top: 1rem;
-        right: 1rem;
-        padding: 0.3rem;
-    }
-    
-    .lang-btn {
-        padding: 0.5rem 0.8rem;
-        font-size: 0.8rem;
-    }
-    
-    .row {
-        grid-template-columns: 1fr;
-        gap: 1.5rem;
-    }
-    
-    .nav-tab {
-        padding: 0.8rem 1.2rem;
-        font-size: 0.9rem;
-    }
-    
-    .day-section {
-        margin: 2rem 0;
-        padding: 2rem 0;
-    }
-    
-    .day-content {
-        padding: 0 1rem;
-    }
-    
-    .images-gallery {
-        grid-template-columns: 1fr;
-    }
-    
-    .qr-cards-grid {
-        grid-template-columns: 1fr;
-        gap: 1rem;
-    }
-    
-    .floating-actions {
-        bottom: 1rem;
-        left: 1rem;
-    }
-    
-    .fab {
-        width: 40px;
-        height: 40px;
-        font-size: 1rem;
-    }
-}
-</style>
-
-<!-- JavaScript -->
-<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
-<script>
-// Configure PDF.js with better error handling
-if (typeof pdfjsLib !== 'undefined') {
-    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
-    
-    // Disable web workers if they cause issues
-    pdfjsLib.GlobalWorkerOptions.workerPort = null;
-    
-    // Set up better CORS handling
-    pdfjsLib.getDocument.prototype.httpHeaders = {
-        'Access-Control-Allow-Origin': '*',
-        'Access-Control-Allow-Methods': 'GET',
-        'Access-Control-Allow-Headers': 'Content-Type'
-    };
-    
-    console.log('PDF.js configured successfully');
-} else {
-    console.error('PDF.js library not loaded!');
-}
-
-jQuery(document).ready(function($) {
-    // حل مبسط وعملي لتبديل اللغة
-    $('#lang-ar').click(function() {
-        console.log('تبديل إلى العربية');
-        
-        // تغيير حالة الأزرار
-        $('.lang-btn').removeClass('active');
-        $(this).addClass('active');
-        
-        // إخفاء الإنجليزية وإظهار العربية
-        $('.lang-en').hide();
-        $('.lang-ar').show();
-        
-        // تغيير اتجاه الصفحة
-        $('body').css('direction', 'rtl').css('text-align', 'right');
-        
-        console.log('تم التبديل إلى العربية');
-    });
-    
-    $('#lang-en').click(function() {
-        console.log('Switch to English');
-        
-        // تغيير حالة الأزرار
-        $('.lang-btn').removeClass('active');
-        $(this).addClass('active');
-        
-        // إخفاء العربية وإظهار الإنجليزية
-        $('.lang-ar').hide();
-        $('.lang-en').show();
-        
-        // تغيير اتجاه الصفحة
-        $('body').css('direction', 'ltr').css('text-align', 'left');
-        
-        console.log('Switched to English');
-    });
-    
-    // تعيين اللغة الافتراضية - العربية
-    $('.lang-ar').show();
-    $('.lang-en').hide();
-    $('#lang-ar').addClass('active');
-    
-    // Navigation tabs
-    $('.nav-tab').on('click', function(e) {
-        e.preventDefault();
-        var target = $(this).attr('href');
-        
-        $('.nav-tab').removeClass('active');
-        $(this).addClass('active');
-        
-        $('html, body').animate({
-            scrollTop: $(target).offset().top - 100
-        }, 500);
-    });
-    
-    // Image lightbox
-    $('.image-item').on('click', function() {
-        var imgSrc = $(this).find('img').attr('src');
-        $('#lightbox-image').attr('src', imgSrc);
-        $('#lightbox').addClass('active');
-    });
-    
-    $('.lightbox-close, #lightbox').on('click', function(e) {
-        if (e.target === this) {
-            $('#lightbox').removeClass('active');
-        }
-    });
-    
-    // Floating actions
-    $('.scroll-top-btn').on('click', function() {
-        $('html, body').animate({scrollTop: 0}, 500);
-    });
-    
-    $('.print-btn').on('click', function() {
-        window.print();
-    });
-    
-    $('.share-btn').on('click', function() {
-        if (navigator.share) {
-            navigator.share({
-                title: document.title,
-                url: window.location.href
-            });
-        } else {
-            navigator.clipboard.writeText(window.location.href);
-            alert('تم نسخ الرابط');
-        }
-    });
-    
-    // حل بسيط وعملي لعرض PDF
-    console.log('تهيئة عارض PDF البسيط...');
-    
-    // وظيفة بسيطة لتحميل PDF في iframe
-    function loadSimplePDF(day, pdfUrl) {
-        console.log('تحميل PDF لليوم:', day, 'الرابط:', pdfUrl);
-        
-        const iframe = document.getElementById('pdf-iframe-' + day);
-        const loading = document.getElementById('pdf-loading-' + day);
-        const canvas = document.getElementById('pdf-canvas-' + day);
-        
-        if (!iframe || !pdfUrl) {
-            console.error('عنصر iframe غير موجود أو لا يوجد رابط PDF');
-            return;
-        }
-        
-        // إخفاء canvas وإظهار loading
-        if (canvas) canvas.style.display = 'none';
-        if (loading) loading.style.display = 'flex';
-        
-        // تحميل PDF في iframe مباشرة
-        iframe.src = pdfUrl + '#toolbar=1&navpanes=1&scrollbar=1&view=FitH';
-        
-        // معالجة التحميل الناجح
-        iframe.onload = function() {
-            console.log('تم تحميل PDF بنجاح لليوم:', day);
-            if (loading) loading.style.display = 'none';
-            iframe.style.display = 'block';
-        };
-        
-        // معالجة الأخطاء
-        iframe.onerror = function() {
-            console.error('خطأ في تحميل PDF لليوم:', day);
-            if (loading) {
-                loading.innerHTML = `
-                    <div style="text-align: center; padding: 2rem; background: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
-                        <p style="color: #d32f2f; font-weight: bold; margin-bottom: 1rem;">لا يمكن عرض ملف PDF في المتصفح</p>
-                        <p style="color: #666; margin-bottom: 1rem; font-size: 0.9em;">قد يكون السبب: الملف محمي، مشكلة في الشبكة، أو إعدادات المتصفح</p>
-                        <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
-                            <a href="${pdfUrl}" target="_blank" style="background: #156b68; color: white; padding: 0.5rem 1rem; text-decoration: none; border-radius: 4px; font-weight: bold;">📄 تحميل الملف</a>
-                            <button onclick="loadTestContent('${day}')" style="background: #caa453; color: white; padding: 0.5rem 1rem; border: none; border-radius: 4px; font-weight: bold; cursor: pointer;">📋 عرض محتوى تجريبي</button>
-                            <button onclick="location.reload()" style="background: #666; color: white; padding: 0.5rem 1rem; border: none; border-radius: 4px; font-weight: bold; cursor: pointer;">🔄 إعادة المحاولة</button>
-                        </div>
-                    </div>
-                `;
-            }
-        };
-        
-        // Timeout للكشف عن المشاكل
-        setTimeout(function() {
-            if (loading && loading.style.display !== 'none') {
-                console.warn('تحميل PDF يستغرق وقتاً طويلاً لليوم:', day);
-                iframe.style.display = 'block';
-                loading.style.display = 'none';
-            }
-        }, 5000);
-    }
-    
-    // وظيفة تحميل المحتوى التجريبي
-    window.loadTestContent = function(day) {
-        console.log('تحميل محتوى تجريبي لليوم:', day);
-        const iframe = document.getElementById('pdf-iframe-' + day);
-        const loading = document.getElementById('pdf-loading-' + day);
-        
-        if (iframe && loading) {
-            loading.style.display = 'none';
-            iframe.src = 'test-pdf-content.html';
-            iframe.style.display = 'block';
-            console.log('تم تحميل المحتوى التجريبي بنجاح');
-        }
-    };
-    
-    // تهيئة PDF البسيطة - حذف جميع التعقيدات
-    console.log('تم حذف جميع التعقيدات - استخدام حل بسيط');
-    function debugPDFSetup() {
-        console.log('=== PDF Debug Information ===');
-        console.log('PDF.js available:', typeof pdfjsLib !== 'undefined');
-        console.log('Window.pdfFiles available:', typeof window.pdfFiles !== 'undefined');
-        
-        if (typeof window.pdfFiles !== 'undefined') {
-            console.log('PDF files:', window.pdfFiles);
-            for (let day in window.pdfFiles) {
-                const url = window.pdfFiles[day];
-                console.log(`${day} PDF URL:`, url);
-                
-                // For localhost, don't try fetch (will fail due to CORS)
-                if (url.includes('localhost') || url.includes('127.0.0.1')) {
-                    console.log(`${day} PDF: localhost detected, will use iframe directly`);
-                } else {
-                    // Test if URL is accessible for external URLs
-                    fetch(url, { method: 'HEAD' })
-                        .then(response => {
-                            console.log(`${day} PDF accessibility:`, response.ok ? 'OK' : 'FAILED');
-                            console.log(`${day} PDF status:`, response.status);
-                        })
-                        .catch(error => {
-                            console.error(`${day} PDF fetch error:`, error.message);
-                        });
-                }
-            }
-        } else {
-            console.log('No PDF files configured');
-        }
-        console.log('=== End PDF Debug ===');
-    }
-    
-    // Prevent IDM from intercepting PDF links
-    function preventIDMInterception() {
-        // Override XMLHttpRequest to add headers that prevent IDM detection
-        const originalXHROpen = XMLHttpRequest.prototype.open;
-        XMLHttpRequest.prototype.open = function(method, url, async, user, password) {
-            if (url && url.includes('.pdf')) {
-                console.log('Protecting PDF request from IDM:', url);
-            }
-            return originalXHROpen.apply(this, arguments);
-        };
-        
-        const originalXHRSend = XMLHttpRequest.prototype.send;
-        XMLHttpRequest.prototype.send = function(data) {
-            if (this._url && this._url.includes('.pdf')) {
-                this.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
-                this.setRequestHeader('Content-Type', 'application/pdf');
-                this.setRequestHeader('Cache-Control', 'no-cache');
-            }
-            return originalXHRSend.apply(this, arguments);
-        };
-        
-        // Override fetch for PDF requests
-        const originalFetch = window.fetch;
-        window.fetch = function(url, options = {}) {
-            if (url && url.includes('.pdf')) {
-                console.log('Protecting PDF fetch from IDM:', url);
-                options.headers = options.headers || {};
-                options.headers['X-Requested-With'] = 'XMLHttpRequest';
-                options.headers['Content-Type'] = 'application/pdf';
-                options.headers['Cache-Control'] = 'no-cache';
-                options.mode = 'cors';
-                options.credentials = 'omit';
-            }
-            return originalFetch.apply(this, arguments);
-        };
-    }
-    
-    // Enhanced IDM protection
-    function enhancedIDMProtection() {
-        // Block IDM from detecting PDF links
-        const observer = new MutationObserver(function(mutations) {
-            mutations.forEach(function(mutation) {
-                if (mutation.type === 'childList') {
-                    const pdfLinks = document.querySelectorAll('a[href*=".pdf"], iframe[src*=".pdf"]');
-                    pdfLinks.forEach(function(element) {
-                        element.setAttribute('data-no-idm', 'true');
-                        element.style.pointerEvents = 'auto';
-                        if (element.tagName === 'IFRAME') {
-                            element.oncontextmenu = function(e) { e.preventDefault(); };
-                        }
-                    });
-                }
-            });
-        });
-        
-        observer.observe(document.body, {
-            childList: true,
-            subtree: true
-        });
-        
-        // Override document.createElement to protect dynamically created elements
-        const originalCreateElement = document.createElement;
-        document.createElement = function(tagName) {
-            const element = originalCreateElement.call(this, tagName);
-            if (tagName.toLowerCase() === 'iframe') {
-                element.setAttribute('data-anti-idm', 'true');
-                element.oncontextmenu = function(e) { e.preventDefault(); };
-            }
-            return element;
-        };
-        
-        // Disable right-click on PDF elements
-        document.addEventListener('contextmenu', function(e) {
-            if (e.target.closest('[data-no-idm], .pdf-container, .pdf-viewer')) {
-                e.preventDefault();
-                return false;
-            }
-        });
-        
-        // Block drag and drop on PDF elements
-        document.addEventListener('dragstart', function(e) {
-            if (e.target.closest('[data-no-idm], .pdf-container, .pdf-viewer')) {
-                e.preventDefault();
-                return false;
-            }
-        });
-        
-        // Ultimate IDM blocker - intercept any external download attempts
-        Object.defineProperty(window, 'external', {
-            value: null,
-            writable: false,
-            configurable: false
-        });
-        
-        // Block IDM browser helpers
-        if (window.chrome && window.chrome.webstore) {
-            delete window.chrome.webstore;
-        }
-        
-        // Disable IDM keyboard shortcuts
-        document.addEventListener('keydown', function(e) {
-            // Block Ctrl+S, Ctrl+D, Alt+Click on PDF areas
-            if (e.target.closest('.pdf-container, .pdf-viewer')) {
-                if ((e.ctrlKey && (e.key === 's' || e.key === 'd')) || 
-                    (e.altKey && e.type === 'click')) {
-                    e.preventDefault();
-                    e.stopPropagation();
-                    console.log('IDM shortcut blocked');
-                    return false;
-                }
-            }
-        });
-        
-        // Monitor and block any IDM injected elements
-        const idmBlocker = new MutationObserver(function(mutations) {
-            mutations.forEach(function(mutation) {
-                mutation.addedNodes.forEach(function(node) {
-                    if (node.nodeType === 1) { // Element node
-                        // Check for IDM-like elements and remove them
-                        if (node.className && typeof node.className === 'string') {
-                            if (node.className.includes('idm') || 
-                                node.className.includes('download') ||
-                                node.className.includes('IDM')) {
-                                console.log('Removing IDM element:', node);
-                                node.remove();
-                            }
-                        }
-                        
-                        // Check for IDM overlay divs
-                        if (node.style && node.style.position === 'absolute' && 
-                            node.style.zIndex > 1000) {
-                            const rect = node.getBoundingClientRect();
-                            const pdfContainers = document.querySelectorAll('.pdf-container');
-                            pdfContainers.forEach(function(container) {
-                                const containerRect = container.getBoundingClientRect();
-                                if (rect.left < containerRect.right && 
-                                    rect.right > containerRect.left &&
-                                    rect.top < containerRect.bottom && 
-                                    rect.bottom > containerRect.top) {
-                                    console.log('Removing IDM overlay:', node);
-                                    node.remove();
-                                }
-                            });
-                        }
-                    }
-                });
-            });
-        });
-        
-        idmBlocker.observe(document.body, {
-            childList: true,
-            subtree: true,
-            attributes: true,
-            attributeFilter: ['class', 'style']
-        });
-    }
-    
-    // Initialize all IDM protections
-    preventIDMInterception();
-    enhancedIDMProtection();
-    
-    // Initialize PDF viewers using protected proxy
-    console.log('Initializing protected PDF viewers...');
-    
-    setTimeout(function() {
-        if (typeof window.pdfFiles !== 'undefined' && Object.keys(window.pdfFiles).length > 0) {
-            console.log('Protected PDF files found:', Object.keys(window.pdfFiles));
-            
-            for (let day in window.pdfFiles) {
-                const iframe = document.getElementById('pdf-iframe-' + day);
-                const loading = document.getElementById('pdf-loading-' + day);
-                const canvas = document.getElementById('pdf-canvas-' + day);
-                
-                if (iframe && loading) {
-                    console.log('Initializing protected PDF for:', day);
-                    
-                    // إخفاء canvas واستخدام iframe فقط
-                    if (canvas) canvas.style.display = 'none';
-                    
-                    // تحميل PDF المحمي
-                    loading.style.display = 'flex';
-                    iframe.style.display = 'none';
-                    
-                    // استخدام الـ proxy المحمي
-                    iframe.src = window.pdfFiles[day];
-                    iframe.setAttribute('data-protected-pdf', 'true');
-                    iframe.setAttribute('sandbox', 'allow-same-origin allow-scripts allow-forms allow-popups');
-                    
-                    // إعداد معالجات الأحداث
-                    iframe.onload = function() {
-                        console.log('Protected PDF loaded successfully for', day, 'URL:', window.pdfFiles[day]);
-                        loading.style.display = 'none';
-                        iframe.style.display = 'block';
-                        
-                        // إضافة رسالة نجاح
-                        setTimeout(function() {
-                            const successMsg = document.createElement('div');
-                            successMsg.innerHTML = '<div style=\"background: #4caf50; color: white; padding: 0.5rem; text-align: center; border-radius: 4px; margin-bottom: 0.5rem;\">تم تحميل المستند بنجاح ✓</div>';
-                            iframe.parentNode.insertBefore(successMsg, iframe);
-                            setTimeout(() => successMsg.remove(), 3000);
-                        }, 100);
-                    };
-                    
-                    iframe.onerror = function() {
-                        console.error('Protected PDF failed for', day, 'URL:', window.pdfFiles[day]);
-                        loading.innerHTML = '<div style=\"color: #d32f2f; text-align: center; padding: 2rem; background: #ffebee; border-radius: 8px; border: 1px solid #ffcdd2;\"><p style=\"font-weight: bold; margin-bottom: 0.5rem;\">خطأ في تحميل المستند</p><p style=\"font-size: 0.9em; color: #666; margin-bottom: 1rem;\">تحقق من إعدادات الملفات أو اتصال الإنترنت</p><button onclick=\"location.reload()\" style=\"background: #156b68; color: white; padding: 0.5rem 1rem; border: none; border-radius: 4px; cursor: pointer; font-weight: bold;\">إعادة المحاولة</button><br><small style=\"margin-top: 1rem; display: block; color: #999;\">Day: ' + day + '</small></div>';
-                    };
-                    
-                    // إضافة timeout للكشف عن المشاكل
-                    setTimeout(function() {
-                        if (loading.style.display !== 'none') {
-                            console.warn('PDF loading taking too long for', day);
-                            loading.innerHTML = '<div style=\"color: #ff9800; text-align: center; padding: 2rem;\"><div class=\"spinner\"></div><p>التحميل يستغرق وقتاً أطول من المعتاد...</p><p style=\"font-size: 0.8em; color: #666;\">إذا استمر التحميل، جرب إعادة تحميل الصفحة</p></div>';
-                        }
-                    }, 10000); // 10 seconds timeout
-                    
-                    // إخفاء أزرار التنقل لأن الـ proxy يتولى العرض
-                    const controls = document.querySelector('#' + day.replace('day', 'day') + ' .pdf-controls');
-                    if (controls) {
-                        const buttons = controls.querySelectorAll('.pdf-btn:not(.download-btn)');\n                        buttons.forEach(btn => btn.style.display = 'none');
-                    }
-                } else {
-                    console.error('Missing elements for protected PDF:', day);
-                }
-            }
-        } else {
-            console.log('No protected PDF files configured');
-        }
-    }, 300);
-    
-    // Enhanced protection for download links from IDM
-    $('.download-btn[data-no-idm]').on('click', function(e) {
-        e.preventDefault();
-        const link = this;
-        const originalHref = link.href;
-        
-        // Create dynamic anti-IDM URL
-        const antiIdmParams = [
-            'viewer=browser',
-            'display=inline', 
-            'content-disposition=inline',
-            'x-download=false',
-            'embed=true',
-            'nodownload=1',
-            'browser-view=1',
-            'anti-idm=' + Math.random().toString(36).substring(7),
-            't=' + Date.now()
-        ].join('&');
-        
-        const protectedUrl = originalHref + (originalHref.includes('?') ? '&' : '?') + antiIdmParams;
-        
-        // Open in new window with specific features to avoid IDM
-        const newWindow = window.open('', '_blank', 'width=1000,height=800,scrollbars=yes,resizable=yes,toolbar=no,menubar=no,location=no,status=no');
-        if (newWindow) {
-            newWindow.document.write(`
-                <html>
-                    <head>
-                        <title>PDF Viewer</title>
-                        <style>
-                            body { margin: 0; padding: 0; }
-                            iframe { width: 100%; height: 100vh; border: none; }
-                        </style>
-                    </head>
-                    <body>
-                        <iframe src="${protectedUrl}#toolbar=1&navpanes=1&scrollbar=1" 
-                                data-no-download="true" 
-                                data-anti-idm="true"
-                                sandbox="allow-same-origin allow-scripts allow-forms">
-                        </iframe>
-                    </body>
-                </html>
-            `);
-            newWindow.document.close();
-        } else {
-            // Fallback: direct link
-            window.location.href = protectedUrl;
-        }
-    });
-    
-    // QR share buttons
-    $('.qr-share-btn').on('click', function() {
-        var url = $(this).data('url');
-        var title = $(this).data('title-ar');
-        
-        if (navigator.share) {
-            navigator.share({
-                title: title,
-                url: url
-            });
-        } else {
-            navigator.clipboard.writeText(url);
-            alert('تم نسخ الرابط');
-        }
-    });
-});
-</script>
-
-<?php wp_footer(); ?>
-</body>
-</html>
\ No newline at end of file
diff --git a/front-page.php b/front-page.php
index 953022e..94a89cc 100644
--- a/front-page.php
+++ b/front-page.php
@@ -48,10 +48,37 @@
 $event_description_ar = get_post_meta($page_id, '_event_subtitle_ar', true) ?: 'ملتقى علمي متخصص في الاختصاصات الصحية';
 $event_description_en = get_post_meta($page_id, '_event_subtitle_en', true) ?: 'Specialized scientific conference in health specialties';
 
+if (!function_exists('arab_board_build_pdf_proxy_url')) {
+    /**
+     * يبني رابطًا مشفرًا للوصول إلى ملف PDF عبر الوسيط الداخلي.
+     *
+     * @param string $pdf_url  الرابط الأصلي للملف.
+     * @param string $context  سياق الملف (day-1, day-2...).
+     * @return string رابط الوسيط أو سلسلة فارغة عند عدم توفر الملف.
+     */
+    function arab_board_build_pdf_proxy_url($pdf_url, $context = 'document') {
+        if (empty($pdf_url)) {
+            return '';
+        }
+
+        $payload = array(
+            'url' => esc_url_raw($pdf_url),
+            'context' => sanitize_title($context),
+        );
+
+        $encoded = base64_encode(wp_json_encode($payload));
+
+        return trailingslashit(get_template_directory_uri()) . 'pdf-proxy.php?file=' . rawurlencode($encoded);
+    }
+}
+
 // Day 1 Data
 $day1_title_ar = 'اليوم الأول';
 $day1_title_en = 'Day 1';
 $day1_pdf = get_post_meta($page_id, '_day1_pdf', true);
+$day1_pdf_proxy = arab_board_build_pdf_proxy_url($day1_pdf, 'day-1');
+$day1_pdf_view = $day1_pdf_proxy ? add_query_arg('action', 'view', $day1_pdf_proxy) : '';
+$day1_pdf_download = $day1_pdf_proxy ? add_query_arg('action', 'download', $day1_pdf_proxy) : '';
 $day1_schedule = get_post_meta($page_id, '_day1_schedule', true);
 $day1_images = get_post_meta($page_id, '_day1_images', true);
 
@@ -59,6 +86,9 @@
 $day2_title_ar = 'اليوم الثاني';
 $day2_title_en = 'Day 2';
 $day2_pdf = get_post_meta($page_id, '_day2_pdf', true);
+$day2_pdf_proxy = arab_board_build_pdf_proxy_url($day2_pdf, 'day-2');
+$day2_pdf_view = $day2_pdf_proxy ? add_query_arg('action', 'view', $day2_pdf_proxy) : '';
+$day2_pdf_download = $day2_pdf_proxy ? add_query_arg('action', 'download', $day2_pdf_proxy) : '';
 $day2_schedule = get_post_meta($page_id, '_day2_schedule', true);
 $day2_images = get_post_meta($page_id, '_day2_images', true);
 
@@ -83,13 +113,10 @@
     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
     <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@300;400;600;700;800;900&family=Cairo:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">
     
-    <!-- PDF.js CDN -->
-    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
-    
     <?php wp_head(); ?>
 </head>
 
-<body <?php body_class('event-page'); ?>>
+<body <?php body_class('event-page lang-ar-active'); ?>>
 
 <main id="main" class="site-main">
     
@@ -119,28 +146,28 @@
                 
                 <div class="title-section">
                     <h1 class="event-title">
-                        <span class="lang-ar"><?php echo esc_html($event_title_ar); ?></span>
-                        <span class="lang-en" style="display: none;"><?php echo esc_html($event_title_en); ?></span>
+                        <span class="lang-ar lang-block"><?php echo esc_html($event_title_ar); ?></span>
+                        <span class="lang-en lang-block"><?php echo esc_html($event_title_en); ?></span>
                     </h1>
                 </div>
                 
                 <?php if ($event_description_ar || $event_description_en) : ?>
                 <div class="event-description">
-                    <div class="lang-ar"><?php echo wp_kses_post($event_description_ar); ?></div>
-                    <div class="lang-en" style="display: none;"><?php echo wp_kses_post($event_description_en); ?></div>
+                    <div class="lang-ar lang-block"><?php echo wp_kses_post($event_description_ar); ?></div>
+                    <div class="lang-en lang-block"><?php echo wp_kses_post($event_description_en); ?></div>
                 </div>
                 <?php endif; ?>
                 
                 <div class="event-dates">
                     <i class="icon-calendar"></i>
                     <span class="lang-ar"><?php echo esc_html($event_date_ar); ?></span>
-                    <span class="lang-en" style="display: none;"><?php echo esc_html($event_date_en); ?></span>
+                    <span class="lang-en"><?php echo esc_html($event_date_en); ?></span>
                 </div>
                 
                 <div class="event-location">
                     <i class="icon-location"></i>
                     <span class="lang-ar"><?php echo esc_html($event_location_ar); ?></span>
-                    <span class="lang-en" style="display: none;"><?php echo esc_html($event_location_en); ?></span>
+                    <span class="lang-en"><?php echo esc_html($event_location_en); ?></span>
                 </div>
             </div>
         </div>
@@ -152,16 +179,16 @@
             <ul class="nav-tabs">
                 <li><a href="#day1" class="nav-tab active">
                     <span class="lang-ar">اليوم الأول</span>
-                    <span class="lang-en" style="display: none;">Day 1</span>
+                    <span class="lang-en">Day 1</span>
                 </a></li>
                 <li><a href="#day2" class="nav-tab">
                     <span class="lang-ar">اليوم الثاني</span>
-                    <span class="lang-en" style="display: none;">Day 2</span>
+                    <span class="lang-en">Day 2</span>
                 </a></li>
                 <?php if (!empty($qr_cards)) : ?>
                 <li><a href="#qr-cards" class="nav-tab">
                     <span class="lang-ar">بطاقات QR</span>
-                    <span class="lang-en" style="display: none;">QR Cards</span>
+                    <span class="lang-en">QR Cards</span>
                 </a></li>
                 <?php endif; ?>
             </ul>
@@ -174,7 +201,7 @@
             <header class="section-header">
                 <h2>
                     <span class="lang-ar"><?php echo esc_html($day1_title_ar); ?></span>
-                    <span class="lang-en" style="display: none;"><?php echo esc_html($day1_title_en); ?></span>
+                    <span class="lang-en"><?php echo esc_html($day1_title_en); ?></span>
                 </h2>
             </header>
 
@@ -184,7 +211,7 @@
                 <div class="schedule-section full-width">
                     <h3>
                         <span class="lang-ar">برنامج اليوم الأول</span>
-                        <span class="lang-en" style="display: none;">Day One Schedule</span>
+                        <span class="lang-en">Day One Schedule</span>
                     </h3>
                     
                     <div class="schedule-table">
@@ -193,11 +220,11 @@
                                 <tr>
                                     <th>
                                         <span class="lang-ar">الوقت</span>
-                                        <span class="lang-en" style="display: none;">Time</span>
+                                        <span class="lang-en">Time</span>
                                     </th>
                                     <th>
                                         <span class="lang-ar">النشاط</span>
-                                        <span class="lang-en" style="display: none;">Activity</span>
+                                        <span class="lang-en">Activity</span>
                                     </th>
                                 </tr>
                             </thead>
@@ -207,7 +234,7 @@
                                     <td class="time"><?php echo esc_html($item['time']); ?></td>
                                     <td class="activity">
                                         <span class="lang-ar"><?php echo esc_html($item['activity_ar']); ?></span>
-                                        <span class="lang-en" style="display: none;"><?php echo esc_html($item['activity_en']); ?></span>
+                                        <span class="lang-en"><?php echo esc_html($item['activity_en']); ?></span>
                                     </td>
                                 </tr>
                                 <?php endforeach; ?>
@@ -218,70 +245,39 @@
                 <?php endif; ?>
 
                 <!-- PDF Section - Full Width -->
-                <?php if ($day1_pdf) : ?>
+                <?php if ($day1_pdf_view) : ?>
                 <div class="pdf-section full-width">
                     <h3>
                         <span class="lang-ar">ملف PDF - <?php echo esc_html($day1_title_ar); ?></span>
-                        <span class="lang-en" style="display: none;">PDF File - <?php echo esc_html($day1_title_en); ?></span>
+                        <span class="lang-en">PDF File - <?php echo esc_html($day1_title_en); ?></span>
                     </h3>
-                    
+
                     <div class="pdf-viewer">
-                        <div class="pdf-controls">
-                            <button class="pdf-btn" id="prev-page-day1">السابق</button>
-                            <span class="page-info">
-                                <span id="page-num-day1">1</span> / <span id="page-count-day1">0</span>
-                            </span>
-                            <button class="pdf-btn" id="next-page-day1">التالي</button>
-                            <button class="pdf-btn zoom-in" data-target="day1">تكبير</button>
-                            <button class="pdf-btn zoom-out" data-target="day1">تصغير</button>
-                            <a href="<?php echo esc_url($day1_pdf); ?>?download=1&t=<?php echo time(); ?>" class="pdf-btn download-btn" target="_blank" data-no-idm="true">تحميل</a>
-                        </div>
-                        
-                        <div class="pdf-container">
-                            <canvas id="pdf-canvas-day1"></canvas>
-                            <iframe id="pdf-iframe-day1" style="display: none; width: 100%; height: 600px; border: 1px solid #ddd; border-radius: 4px;"></iframe>
+                        <div class="pdf-actions">
+                            <?php if ($day1_pdf_download) : ?>
+                            <a href="<?php echo esc_url($day1_pdf_download); ?>" class="pdf-btn download-btn" target="_blank" rel="noopener noreferrer">
+                                <span class="lang-ar">تحميل</span>
+                                <span class="lang-en">Download</span>
+                            </a>
+                            <?php endif; ?>
                         </div>
-                        
-                        <div class="pdf-loading" id="pdf-loading-day1">
-                            <div class="spinner"></div>
-                            <p>جاري تحميل الملف...</p>
+
+                        <div class="pdf-container" data-pdf-wrapper>
+                            <div class="pdf-loading" id="pdf-loading-day1">
+                                <div class="spinner" aria-hidden="true"></div>
+                                <p>جاري تحميل الملف...</p>
+                            </div>
+                            <iframe
+                                id="pdf-iframe-day1"
+                                class="pdf-frame"
+                                title="<?php echo esc_attr($day1_title_ar); ?> - PDF"
+                                src="<?php echo esc_url($day1_pdf_view); ?>"
+                                data-pdf-frame
+                                loading="lazy"
+                                allow="fullscreen"
+                            ></iframe>
                         </div>
                     </div>
-                    
-                    <script>
-                        // حل بسيط ومباشر لعرض PDF
-                        jQuery(document).ready(function($) {
-                            const pdfUrl = '<?php echo $day1_pdf; ?>';
-                            const iframe = $('#pdf-iframe-day1');
-                            const loading = $('#pdf-loading-day1');
-                            const canvas = $('#pdf-canvas-day1');
-                            
-                            console.log('PDF URL for day1:', pdfUrl);
-                            
-                            if (pdfUrl && pdfUrl.trim() !== '' && iframe.length) {
-                                // إخفاء canvas واستخدام iframe
-                                canvas.hide();
-                                loading.show();
-                                
-                                // تحميل PDF في iframe
-                                iframe.attr('src', pdfUrl + '#toolbar=1&navpanes=1&scrollbar=1&view=FitH');
-                                
-                                // إظهار iframe بعد التحميل
-                                iframe.on('load', function() {
-                                    loading.hide();
-                                    iframe.show();
-                                    console.log('PDF loaded for day1');
-                                });
-                                
-                                // معالجة الأخطاء
-                                setTimeout(function() {
-                                    if (loading.is(':visible')) {
-                                        loading.html('<div style="text-align: center; padding: 2rem;"><p style="color: #d32f2f;">خطأ في تحميل PDF</p><a href="' + pdfUrl + '" target="_blank" style="background: #156b68; color: white; padding: 0.5rem 1rem; text-decoration: none; border-radius: 4px;">فتح في نافذة جديدة</a></div>');
-                                    }
-                                }, 5000);
-                            }
-                        });
-                    </script>
                 </div>
                 <?php endif; ?>
                 
@@ -289,7 +285,7 @@
                 <div class="images-section">
                     <h3>
                         <span class="lang-ar">صور اليوم الأول</span>
-                        <span class="lang-en" style="display: none;">Day One Images</span>
+                        <span class="lang-en">Day One Images</span>
                     </h3>
                     
                     <div class="images-gallery">
@@ -314,7 +310,7 @@
             <header class="section-header">
                 <h2>
                     <span class="lang-ar"><?php echo esc_html($day2_title_ar); ?></span>
-                    <span class="lang-en" style="display: none;"><?php echo esc_html($day2_title_en); ?></span>
+                    <span class="lang-en"><?php echo esc_html($day2_title_en); ?></span>
                 </h2>
             </header>
 
@@ -324,7 +320,7 @@
                 <div class="schedule-section full-width">
                     <h3>
                         <span class="lang-ar">برنامج اليوم الثاني</span>
-                        <span class="lang-en" style="display: none;">Day Two Schedule</span>
+                        <span class="lang-en">Day Two Schedule</span>
                     </h3>
                     
                     <div class="schedule-table">
@@ -333,11 +329,11 @@
                                 <tr>
                                     <th>
                                         <span class="lang-ar">الوقت</span>
-                                        <span class="lang-en" style="display: none;">Time</span>
+                                        <span class="lang-en">Time</span>
                                     </th>
                                     <th>
                                         <span class="lang-ar">النشاط</span>
-                                        <span class="lang-en" style="display: none;">Activity</span>
+                                        <span class="lang-en">Activity</span>
                                     </th>
                                 </tr>
                             </thead>
@@ -347,7 +343,7 @@
                                     <td class="time"><?php echo esc_html($item['time']); ?></td>
                                     <td class="activity">
                                         <span class="lang-ar"><?php echo esc_html($item['activity_ar']); ?></span>
-                                        <span class="lang-en" style="display: none;"><?php echo esc_html($item['activity_en']); ?></span>
+                                        <span class="lang-en"><?php echo esc_html($item['activity_en']); ?></span>
                                     </td>
                                 </tr>
                                 <?php endforeach; ?>
@@ -358,70 +354,39 @@
                 <?php endif; ?>
 
                 <!-- PDF Section - Full Width -->
-                <?php if ($day2_pdf) : ?>
+                <?php if ($day2_pdf_view) : ?>
                 <div class="pdf-section full-width">
                     <h3>
                         <span class="lang-ar">ملف PDF - <?php echo esc_html($day2_title_ar); ?></span>
-                        <span class="lang-en" style="display: none;">PDF File - <?php echo esc_html($day2_title_en); ?></span>
+                        <span class="lang-en">PDF File - <?php echo esc_html($day2_title_en); ?></span>
                     </h3>
-                    
+
                     <div class="pdf-viewer">
-                        <div class="pdf-controls">
-                            <button class="pdf-btn" id="prev-page-day2">السابق</button>
-                            <span class="page-info">
-                                <span id="page-num-day2">1</span> / <span id="page-count-day2">0</span>
-                            </span>
-                            <button class="pdf-btn" id="next-page-day2">التالي</button>
-                            <button class="pdf-btn zoom-in" data-target="day2">تكبير</button>
-                            <button class="pdf-btn zoom-out" data-target="day2">تصغير</button>
-                            <a href="<?php echo esc_url($day2_pdf); ?>?download=1&t=<?php echo time(); ?>" class="pdf-btn download-btn" target="_blank" data-no-idm="true">تحميل</a>
-                        </div>
-                        
-                        <div class="pdf-container">
-                            <canvas id="pdf-canvas-day2"></canvas>
-                            <iframe id="pdf-iframe-day2" style="display: none; width: 100%; height: 600px; border: 1px solid #ddd; border-radius: 4px;"></iframe>
+                        <div class="pdf-actions">
+                            <?php if ($day2_pdf_download) : ?>
+                            <a href="<?php echo esc_url($day2_pdf_download); ?>" class="pdf-btn download-btn" target="_blank" rel="noopener noreferrer">
+                                <span class="lang-ar">تحميل</span>
+                                <span class="lang-en">Download</span>
+                            </a>
+                            <?php endif; ?>
                         </div>
-                        
-                        <div class="pdf-loading" id="pdf-loading-day2">
-                            <div class="spinner"></div>
-                            <p>جاري تحميل الملف...</p>
+
+                        <div class="pdf-container" data-pdf-wrapper>
+                            <div class="pdf-loading" id="pdf-loading-day2">
+                                <div class="spinner" aria-hidden="true"></div>
+                                <p>جاري تحميل الملف...</p>
+                            </div>
+                            <iframe
+                                id="pdf-iframe-day2"
+                                class="pdf-frame"
+                                title="<?php echo esc_attr($day2_title_ar); ?> - PDF"
+                                src="<?php echo esc_url($day2_pdf_view); ?>"
+                                data-pdf-frame
+                                loading="lazy"
+                                allow="fullscreen"
+                            ></iframe>
                         </div>
                     </div>
-                    
-                    <script>
-                        // حل بسيط ومباشر لعرض PDF
-                        jQuery(document).ready(function($) {
-                            const pdfUrl = '<?php echo $day2_pdf; ?>';
-                            const iframe = $('#pdf-iframe-day2');
-                            const loading = $('#pdf-loading-day2');
-                            const canvas = $('#pdf-canvas-day2');
-                            
-                            console.log('PDF URL for day2:', pdfUrl);
-                            
-                            if (pdfUrl && pdfUrl.trim() !== '' && iframe.length) {
-                                // إخفاء canvas واستخدام iframe
-                                canvas.hide();
-                                loading.show();
-                                
-                                // تحميل PDF في iframe
-                                iframe.attr('src', pdfUrl + '#toolbar=1&navpanes=1&scrollbar=1&view=FitH');
-                                
-                                // إظهار iframe بعد التحميل
-                                iframe.on('load', function() {
-                                    loading.hide();
-                                    iframe.show();
-                                    console.log('PDF loaded for day2');
-                                });
-                                
-                                // معالجة الأخطاء
-                                setTimeout(function() {
-                                    if (loading.is(':visible')) {
-                                        loading.html('<div style="text-align: center; padding: 2rem;"><p style="color: #d32f2f;">خطأ في تحميل PDF</p><a href="' + pdfUrl + '" target="_blank" style="background: #156b68; color: white; padding: 0.5rem 1rem; text-decoration: none; border-radius: 4px;">فتح في نافذة جديدة</a></div>');
-                                    }
-                                }, 5000);
-                            }
-                        });
-                    </script>
                 </div>
                 <?php endif; ?>
                 
@@ -429,7 +394,7 @@
                 <div class="images-section">
                     <h3>
                         <span class="lang-ar">صور اليوم الثاني</span>
-                        <span class="lang-en" style="display: none;">Day Two Images</span>
+                        <span class="lang-en">Day Two Images</span>
                     </h3>
                     
                     <div class="images-gallery">
@@ -455,11 +420,11 @@
             <header class="section-header">
                 <h2>
                     <span class="lang-ar">بطاقات QR</span>
-                    <span class="lang-en" style="display: none;">QR Cards</span>
+                    <span class="lang-en">QR Cards</span>
                 </h2>
                 <p>
                     <span class="lang-ar">امسح الرموز للوصول السريع للمواقع والملفات</span>
-                    <span class="lang-en" style="display: none;">Scan the codes for quick access to websites and files</span>
+                    <span class="lang-en">Scan the codes for quick access to websites and files</span>
                 </p>
             </header>
 
@@ -477,20 +442,20 @@
                     <div class="qr-content">
                         <h3 class="qr-title">
                             <span class="lang-ar"><?php echo esc_html($card['name_ar']); ?></span>
-                            <span class="lang-en" style="display: none;"><?php echo esc_html($card['name_en']); ?></span>
+                            <span class="lang-en"><?php echo esc_html($card['name_en']); ?></span>
                         </h3>
                         
                         <div class="qr-actions">
                             <a href="<?php echo esc_url($card['url']); ?>" target="_blank" class="qr-link-btn">
                                 <span class="lang-ar">فتح الرابط</span>
-                                <span class="lang-en" style="display: none;">Open Link</span>
+                                <span class="lang-en">Open Link</span>
                             </a>
                             
                             <button class="qr-share-btn" data-url="<?php echo esc_url($card['url']); ?>" 
                                     data-title-ar="<?php echo esc_attr($card['name_ar']); ?>" 
                                     data-title-en="<?php echo esc_attr($card['name_en']); ?>">
                                 <span class="lang-ar">مشاركة</span>
-                                <span class="lang-en" style="display: none;">Share</span>
+                                <span class="lang-en">Share</span>
                             </button>
                         </div>
                     </div>
@@ -552,15 +517,20 @@
 }
 
 body {
-    font-family: 'Almarai', 'Cairo', Arial, sans-serif !important;
-    background: linear-gradient(135deg, #f8fafa 0%, #ffffff 100%) !important;
-    color: var(--text-color) !important;
-    direction: rtl !important;
-    text-align: right !important;
+    font-family: 'Almarai', 'Cairo', Arial, sans-serif;
+    background: linear-gradient(135deg, #f8fafa 0%, #ffffff 100%);
+    color: var(--text-color);
+    direction: rtl;
+    text-align: right;
     line-height: 1.6;
     font-size: 16px;
 }
 
+body.lang-en-active {
+    direction: ltr;
+    text-align: left;
+}
+
 /* Hide WordPress elements */
 .admin-bar, .wp-toolbar, #wpadminbar {
     display: none !important;
@@ -586,6 +556,11 @@
     border: 2px solid var(--primary-color);
 }
 
+body.lang-en-active .language-toggle {
+    right: auto;
+    left: 2rem;
+}
+
 .lang-btn {
     background: transparent;
     color: var(--primary-color);
@@ -847,68 +822,43 @@
     margin-bottom: 2rem;
 }
 
-/* PDF Section - Enhanced Anti-IDM Protection */
+/* PDF Section */
 .pdf-section {
-    background: #f8fafa;
+    background: #f9fbfb;
     border-radius: var(--border-radius);
-    padding: 1.5rem;
-    border: 2px solid var(--primary-color);
+    border: 1px solid var(--border-color);
+    padding: 1.75rem;
+    margin-top: 2rem;
     box-shadow: var(--shadow);
-    /* Hide from download managers */
-    -webkit-user-select: none;
-    -moz-user-select: none;
-    -ms-user-select: none;
-    user-select: none;
-    /* Prevent IDM detection */
-    position: relative;
-    z-index: 10;
-}
-
-.pdf-section::before {
-    content: '';
-    position: absolute;
-    top: 0;
-    left: 0;
-    right: 0;
-    bottom: 0;
-    background: transparent;
-    z-index: -1;
-    pointer-events: none;
 }
 
 .pdf-section h3 {
     color: var(--primary-color);
-    font-size: 1.3rem;
+    font-size: 1.25rem;
     font-weight: 700;
-    margin-bottom: 1rem;
+    margin-bottom: 1.25rem;
     text-align: center;
-    border-bottom: 2px solid var(--accent-color);
-    padding-bottom: 0.5rem;
 }
 
 .pdf-viewer {
-    background: var(--white);
-    border-radius: var(--border-radius);
-    overflow: hidden;
+    display: flex;
+    flex-direction: column;
+    gap: 1rem;
 }
 
-.pdf-controls {
+.pdf-actions {
     display: flex;
-    justify-content: center;
-    align-items: center;
-    gap: 0.8rem;
-    padding: 0.8rem;
-    background: var(--primary-color);
-    color: var(--white);
+    justify-content: flex-end;
+    gap: 0.75rem;
     flex-wrap: wrap;
 }
 
 .pdf-btn {
-    background: var(--accent-color);
+    background: var(--primary-color);
     color: var(--white);
     border: none;
-    padding: 0.5rem 1rem;
-    border-radius: var(--border-radius);
+    padding: 0.5rem 1.1rem;
+    border-radius: 999px;
     cursor: pointer;
     font-weight: 600;
     font-size: 0.9rem;
@@ -916,85 +866,52 @@
     text-decoration: none;
 }
 
-.pdf-btn:hover {
-    background: #b8934a;
+.pdf-btn:hover,
+.pdf-btn:focus {
+    background: var(--accent-color);
+    color: var(--white);
 }
 
-.page-info {
-    background: rgba(255, 255, 255, 0.2);
-    padding: 0.4rem 0.8rem;
+.pdf-container {
+    position: relative;
+    border: 1px solid var(--border-color);
     border-radius: var(--border-radius);
-    font-weight: 600;
-    font-size: 0.9rem;
+    background: var(--white);
+    min-height: 520px;
+    overflow: hidden;
 }
 
-.pdf-container {
+.pdf-loading {
+    position: absolute;
+    inset: 0;
     display: flex;
-    justify-content: center;
+    flex-direction: column;
     align-items: center;
-    min-height: 400px;
-    padding: 1rem;
-    background: #f8f9fa;
-    border-radius: var(--border-radius);
-    overflow: auto;
+    justify-content: center;
+    gap: 1rem;
+    background: rgba(249, 251, 251, 0.92);
+    transition: opacity 0.3s ease, visibility 0.3s ease;
 }
 
-.pdf-container canvas {
-    max-width: 100%;
-    height: auto;
-    border: 1px solid var(--border-color);
-    border-radius: 4px;
-    box-shadow: var(--shadow);
+.pdf-loading.is-hidden {
+    opacity: 0;
+    visibility: hidden;
 }
 
-.pdf-container iframe {
-    width: 100%;
-    height: 600px;
-    border: 1px solid var(--border-color);
-    border-radius: 4px;
-    box-shadow: var(--shadow);
-    background: white;
-    /* Enhanced IDM protection */
-    pointer-events: auto;
-    user-select: none;
-    -webkit-user-select: none;
-    -moz-user-select: none;
-    -ms-user-select: none;
-    /* Hide from download detection */
-    content-visibility: auto;
-    opacity: 0.999; /* Trick IDM detection */
-    filter: blur(0px) brightness(1.001); /* Subtle filter to confuse IDM */
-    /* Additional protection */
-    -webkit-touch-callout: none;
-    -webkit-tap-highlight-color: transparent;
-    /* Block contextmenu and selection */
-    -webkit-context-menu: none;
-    -moz-context-menu: none;
-    context-menu: none;
-}
-
-/* Hide iframe from IDM when it's loading */
-.pdf-container iframe[data-anti-idm="true"] {
-    visibility: visible !important;
-    display: block !important;
-    transform: scale(1.0001); /* Microscopic transform to avoid detection */
+.pdf-loading.has-error {
+    background: rgba(255, 234, 234, 0.95);
+    color: #c0392b;
 }
 
-/* Prevent IDM overlay detection */
-.pdf-container iframe::before,
-.pdf-container iframe::after {
-    content: none !important;
-    display: none !important;
+.pdf-frame {
+    width: 100%;
+    height: 100%;
+    min-height: 520px;
+    border: 0;
+    display: block;
+    background: var(--white);
 }
 
-.pdf-loading {
-    display: flex;
-    flex-direction: column;
-    align-items: center;
-    gap: 1rem;
-    color: var(--primary-color);
-    padding: 2rem;
-}
 
 .spinner {
     width: 30px;
@@ -1330,44 +1247,40 @@
 }
 
 /* Language visibility control */
+.lang-ar,
 .lang-en {
-    display: none !important;
+    display: inline;
 }
 
-.lang-ar {
-    display: block !important;
+.lang-block {
+    display: block;
 }
 
-body.en-active .lang-en {
-    display: block !important;
+.lang-en {
+    display: none;
 }
 
-body.en-active .lang-ar {
-    display: none !important;
+body.lang-ar-active .lang-ar {
+    display: inline;
 }
 
-body.ar-active .lang-ar {
-    display: block !important;
+body.lang-ar-active .lang-ar.lang-block {
+    display: block;
 }
 
-body.ar-active .lang-en {
+body.lang-ar-active .lang-en {
     display: none !important;
 }
 
-/* Override inline styles */
-body.en-active .lang-en[style*="display: none"] {
-    display: block !important;
+body.lang-en-active .lang-en {
+    display: inline;
 }
 
-body.ar-active .lang-ar[style*="display: none"] {
-    display: block !important;
+body.lang-en-active .lang-en.lang-block {
+    display: block;
 }
 
-body.en-active .lang-ar[style*="display: block"] {
-    display: none !important;
-}
-
-body.ar-active .lang-en[style*="display: block"] {
+body.lang-en-active .lang-ar {
     display: none !important;
 }
 
@@ -1508,518 +1421,210 @@
 </style>
 
 <!-- JavaScript -->
-<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
 <script>
-// Configure PDF.js with better error handling
-if (typeof pdfjsLib !== 'undefined') {
-    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
-    
-    // Disable web workers if they cause issues
-    pdfjsLib.GlobalWorkerOptions.workerPort = null;
-    
-    // Set up better CORS handling
-    pdfjsLib.getDocument.prototype.httpHeaders = {
-        'Access-Control-Allow-Origin': '*',
-        'Access-Control-Allow-Methods': 'GET',
-        'Access-Control-Allow-Headers': 'Content-Type'
+document.addEventListener('DOMContentLoaded', function() {
+    var body = document.body;
+    if (!body || !body.classList) {
+        return;
+    }
+
+    var toArray = function(list) {
+        return Array.prototype.slice.call(list || []);
     };
-    
-    console.log('PDF.js configured successfully');
-} else {
-    console.error('PDF.js library not loaded!');
-}
-
-jQuery(document).ready(function($) {
-    // حل مبسط وعملي لتبديل اللغة
-    $('#lang-ar').click(function() {
-        console.log('تبديل إلى العربية');
-        
-        // تغيير حالة الأزرار
-        $('.lang-btn').removeClass('active');
-        $(this).addClass('active');
-        
-        // إخفاء الإنجليزية وإظهار العربية
-        $('.lang-en').hide();
-        $('.lang-ar').show();
-        
-        // تغيير اتجاه الصفحة
-        $('body').css('direction', 'rtl').css('text-align', 'right');
-        
-        console.log('تم التبديل إلى العربية');
-    });
-    
-    $('#lang-en').click(function() {
-        console.log('Switch to English');
-        
-        // تغيير حالة الأزرار
-        $('.lang-btn').removeClass('active');
-        $(this).addClass('active');
-        
-        // إخفاء العربية وإظهار الإنجليزية
-        $('.lang-ar').hide();
-        $('.lang-en').show();
-        
-        // تغيير اتجاه الصفحة
-        $('body').css('direction', 'ltr').css('text-align', 'left');
-        
-        console.log('Switched to English');
-    });
-    
-    // تعيين اللغة الافتراضية - العربية
-    $('.lang-ar').show();
-    $('.lang-en').hide();
-    $('#lang-ar').addClass('active');
-    
-    // Navigation tabs
-    $('.nav-tab').on('click', function(e) {
-        e.preventDefault();
-        var target = $(this).attr('href');
-        
-        $('.nav-tab').removeClass('active');
-        $(this).addClass('active');
-        
-        $('html, body').animate({
-            scrollTop: $(target).offset().top - 100
-        }, 500);
-    });
-    
-    // Image lightbox
-    $('.image-item').on('click', function() {
-        var imgSrc = $(this).find('img').attr('src');
-        $('#lightbox-image').attr('src', imgSrc);
-        $('#lightbox').addClass('active');
-    });
-    
-    $('.lightbox-close, #lightbox').on('click', function(e) {
-        if (e.target === this) {
-            $('#lightbox').removeClass('active');
+
+    var langButtons = toArray(document.querySelectorAll('.lang-btn'));
+    langButtons.forEach(function(button) {
+        if (!button.getAttribute('data-lang')) {
+            button.setAttribute('data-lang', button.id === 'lang-en' ? 'en' : 'ar');
         }
     });
-    
-    // Floating actions
-    $('.scroll-top-btn').on('click', function() {
-        $('html, body').animate({scrollTop: 0}, 500);
-    });
-    
-    $('.print-btn').on('click', function() {
-        window.print();
+
+    var storageKey = 'arab_board_language';
+    var storedLang = null;
+    try {
+        storedLang = window.localStorage.getItem(storageKey);
+    } catch (error) {
+        storedLang = null;
+    }
+
+    var setLanguage = function(lang, shouldPersist) {
+        var isArabic = lang !== 'en';
+        body.classList.toggle('lang-ar-active', isArabic);
+        body.classList.toggle('lang-en-active', !isArabic);
+        body.setAttribute('dir', isArabic ? 'rtl' : 'ltr');
+        body.style.textAlign = isArabic ? 'right' : 'left';
+
+        langButtons.forEach(function(button) {
+            var buttonLang = button.getAttribute('data-lang');
+            var isActive = buttonLang === lang;
+            button.classList.toggle('active', isActive);
+            button.setAttribute('aria-pressed', isActive ? 'true' : 'false');
+        });
+
+        if (shouldPersist) {
+            try {
+                window.localStorage.setItem(storageKey, lang);
+            } catch (error) {
+                // Ignore storage errors
+            }
+        }
+    };
+
+    setLanguage(storedLang === 'en' ? 'en' : 'ar', false);
+
+    langButtons.forEach(function(button) {
+        button.addEventListener('click', function(event) {
+            event.preventDefault();
+            setLanguage(button.getAttribute('data-lang') === 'en' ? 'en' : 'ar', true);
+        });
     });
-    
-    $('.share-btn').on('click', function() {
-        if (navigator.share) {
-            navigator.share({
-                title: document.title,
-                url: window.location.href
+
+    var navTabs = toArray(document.querySelectorAll('.nav-tab'));
+    navTabs.forEach(function(tab) {
+        tab.addEventListener('click', function(event) {
+            event.preventDefault();
+            navTabs.forEach(function(other) {
+                other.classList.toggle('active', other === tab);
             });
-        } else {
-            navigator.clipboard.writeText(window.location.href);
-            alert('تم نسخ الرابط');
-        }
+            var targetId = tab.getAttribute('href');
+            if (targetId) {
+                var target = document.querySelector(targetId);
+                if (target) {
+                    var offset = target.getBoundingClientRect().top + window.pageYOffset - 100;
+                    window.scrollTo({ top: offset, behavior: 'smooth' });
+                }
+            }
+        });
     });
-    
-    // حل بسيط وعملي لعرض PDF
-    console.log('تهيئة عارض PDF البسيط...');
-    
-    // وظيفة بسيطة لتحميل PDF في iframe
-    function loadSimplePDF(day, pdfUrl) {
-        console.log('تحميل PDF لليوم:', day, 'الرابط:', pdfUrl);
-        
-        const iframe = document.getElementById('pdf-iframe-' + day);
-        const loading = document.getElementById('pdf-loading-' + day);
-        const canvas = document.getElementById('pdf-canvas-' + day);
-        
-        if (!iframe || !pdfUrl) {
-            console.error('عنصر iframe غير موجود أو لا يوجد رابط PDF');
+
+    var lightbox = document.getElementById('lightbox');
+    var lightboxImage = document.getElementById('lightbox-image');
+    var lightboxPrev = document.querySelector('.lightbox-prev');
+    var lightboxNext = document.querySelector('.lightbox-next');
+    var galleryState = { items: [], index: 0 };
+
+    var openLightbox = function(items, index) {
+        if (!items.length || !lightbox || !lightboxImage) {
             return;
         }
-        
-        // إخفاء canvas وإظهار loading
-        if (canvas) canvas.style.display = 'none';
-        if (loading) loading.style.display = 'flex';
-        
-        // تحميل PDF في iframe مباشرة
-        iframe.src = pdfUrl + '#toolbar=1&navpanes=1&scrollbar=1&view=FitH';
-        
-        // معالجة التحميل الناجح
-        iframe.onload = function() {
-            console.log('تم تحميل PDF بنجاح لليوم:', day);
-            if (loading) loading.style.display = 'none';
-            iframe.style.display = 'block';
-        };
-        
-        // معالجة الأخطاء
-        iframe.onerror = function() {
-            console.error('خطأ في تحميل PDF لليوم:', day);
-            if (loading) {
-                loading.innerHTML = `
-                    <div style="text-align: center; padding: 2rem; background: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
-                        <p style="color: #d32f2f; font-weight: bold; margin-bottom: 1rem;">لا يمكن عرض ملف PDF في المتصفح</p>
-                        <p style="color: #666; margin-bottom: 1rem; font-size: 0.9em;">قد يكون السبب: الملف محمي، مشكلة في الشبكة، أو إعدادات المتصفح</p>
-                        <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
-                            <a href="${pdfUrl}" target="_blank" style="background: #156b68; color: white; padding: 0.5rem 1rem; text-decoration: none; border-radius: 4px; font-weight: bold;">📄 تحميل الملف</a>
-                            <button onclick="loadTestContent('${day}')" style="background: #caa453; color: white; padding: 0.5rem 1rem; border: none; border-radius: 4px; font-weight: bold; cursor: pointer;">📋 عرض محتوى تجريبي</button>
-                            <button onclick="location.reload()" style="background: #666; color: white; padding: 0.5rem 1rem; border: none; border-radius: 4px; font-weight: bold; cursor: pointer;">🔄 إعادة المحاولة</button>
-                        </div>
-                    </div>
-                `;
-            }
-        };
-        
-        // Timeout للكشف عن المشاكل
-        setTimeout(function() {
-            if (loading && loading.style.display !== 'none') {
-                console.warn('تحميل PDF يستغرق وقتاً طويلاً لليوم:', day);
-                iframe.style.display = 'block';
-                loading.style.display = 'none';
-            }
-        }, 5000);
-    }
-    
-    // وظيفة تحميل المحتوى التجريبي
-    window.loadTestContent = function(day) {
-        console.log('تحميل محتوى تجريبي لليوم:', day);
-        const iframe = document.getElementById('pdf-iframe-' + day);
-        const loading = document.getElementById('pdf-loading-' + day);
-        
-        if (iframe && loading) {
-            loading.style.display = 'none';
-            iframe.src = 'test-pdf-content.html';
-            iframe.style.display = 'block';
-            console.log('تم تحميل المحتوى التجريبي بنجاح');
-        }
+        galleryState.items = items;
+        galleryState.index = index;
+        lightboxImage.src = items[index].getAttribute('src');
+        lightbox.classList.add('active');
     };
-    
-    // تهيئة PDF البسيطة - حذف جميع التعقيدات
-    console.log('تم حذف جميع التعقيدات - استخدام حل بسيط');
-    function debugPDFSetup() {
-        console.log('=== PDF Debug Information ===');
-        console.log('PDF.js available:', typeof pdfjsLib !== 'undefined');
-        console.log('Window.pdfFiles available:', typeof window.pdfFiles !== 'undefined');
-        
-        if (typeof window.pdfFiles !== 'undefined') {
-            console.log('PDF files:', window.pdfFiles);
-            for (let day in window.pdfFiles) {
-                const url = window.pdfFiles[day];
-                console.log(`${day} PDF URL:`, url);
-                
-                // For localhost, don't try fetch (will fail due to CORS)
-                if (url.includes('localhost') || url.includes('127.0.0.1')) {
-                    console.log(`${day} PDF: localhost detected, will use iframe directly`);
-                } else {
-                    // Test if URL is accessible for external URLs
-                    fetch(url, { method: 'HEAD' })
-                        .then(response => {
-                            console.log(`${day} PDF accessibility:`, response.ok ? 'OK' : 'FAILED');
-                            console.log(`${day} PDF status:`, response.status);
-                        })
-                        .catch(error => {
-                            console.error(`${day} PDF fetch error:`, error.message);
-                        });
-                }
-            }
-        } else {
-            console.log('No PDF files configured');
+
+    var updateLightbox = function(step) {
+        if (!galleryState.items.length) {
+            return;
         }
-        console.log('=== End PDF Debug ===');
-    }
-    
-    // Prevent IDM from intercepting PDF links
-    function preventIDMInterception() {
-        // Override XMLHttpRequest to add headers that prevent IDM detection
-        const originalXHROpen = XMLHttpRequest.prototype.open;
-        XMLHttpRequest.prototype.open = function(method, url, async, user, password) {
-            if (url && url.includes('.pdf')) {
-                console.log('Protecting PDF request from IDM:', url);
-            }
-            return originalXHROpen.apply(this, arguments);
-        };
-        
-        const originalXHRSend = XMLHttpRequest.prototype.send;
-        XMLHttpRequest.prototype.send = function(data) {
-            if (this._url && this._url.includes('.pdf')) {
-                this.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
-                this.setRequestHeader('Content-Type', 'application/pdf');
-                this.setRequestHeader('Cache-Control', 'no-cache');
-            }
-            return originalXHRSend.apply(this, arguments);
-        };
-        
-        // Override fetch for PDF requests
-        const originalFetch = window.fetch;
-        window.fetch = function(url, options = {}) {
-            if (url && url.includes('.pdf')) {
-                console.log('Protecting PDF fetch from IDM:', url);
-                options.headers = options.headers || {};
-                options.headers['X-Requested-With'] = 'XMLHttpRequest';
-                options.headers['Content-Type'] = 'application/pdf';
-                options.headers['Cache-Control'] = 'no-cache';
-                options.mode = 'cors';
-                options.credentials = 'omit';
+        var newIndex = (galleryState.index + step + galleryState.items.length) % galleryState.items.length;
+        galleryState.index = newIndex;
+        lightboxImage.src = galleryState.items[newIndex].getAttribute('src');
+    };
+
+    var imageItems = toArray(document.querySelectorAll('.image-item img'));
+    imageItems.forEach(function(image) {
+        image.addEventListener('click', function() {
+            var gallery = image.closest('.images-gallery');
+            if (!gallery) {
+                return;
             }
-            return originalFetch.apply(this, arguments);
-        };
-    }
-    
-    // Enhanced IDM protection
-    function enhancedIDMProtection() {
-        // Block IDM from detecting PDF links
-        const observer = new MutationObserver(function(mutations) {
-            mutations.forEach(function(mutation) {
-                if (mutation.type === 'childList') {
-                    const pdfLinks = document.querySelectorAll('a[href*=".pdf"], iframe[src*=".pdf"]');
-                    pdfLinks.forEach(function(element) {
-                        element.setAttribute('data-no-idm', 'true');
-                        element.style.pointerEvents = 'auto';
-                        if (element.tagName === 'IFRAME') {
-                            element.oncontextmenu = function(e) { e.preventDefault(); };
-                        }
-                    });
-                }
-            });
+            var galleryImages = toArray(gallery.querySelectorAll('img'));
+            var index = galleryImages.indexOf(image);
+            openLightbox(galleryImages, index >= 0 ? index : 0);
         });
-        
-        observer.observe(document.body, {
-            childList: true,
-            subtree: true
+    });
+
+    if (lightboxPrev) {
+        lightboxPrev.addEventListener('click', function(event) {
+            event.preventDefault();
+            updateLightbox(-1);
         });
-        
-        // Override document.createElement to protect dynamically created elements
-        const originalCreateElement = document.createElement;
-        document.createElement = function(tagName) {
-            const element = originalCreateElement.call(this, tagName);
-            if (tagName.toLowerCase() === 'iframe') {
-                element.setAttribute('data-anti-idm', 'true');
-                element.oncontextmenu = function(e) { e.preventDefault(); };
-            }
-            return element;
-        };
-        
-        // Disable right-click on PDF elements
-        document.addEventListener('contextmenu', function(e) {
-            if (e.target.closest('[data-no-idm], .pdf-container, .pdf-viewer')) {
-                e.preventDefault();
-                return false;
-            }
+    }
+
+    if (lightboxNext) {
+        lightboxNext.addEventListener('click', function(event) {
+            event.preventDefault();
+            updateLightbox(1);
         });
-        
-        // Block drag and drop on PDF elements
-        document.addEventListener('dragstart', function(e) {
-            if (e.target.closest('[data-no-idm], .pdf-container, .pdf-viewer')) {
-                e.preventDefault();
-                return false;
+    }
+
+    if (lightbox) {
+        lightbox.addEventListener('click', function(event) {
+            if (event.target === lightbox || event.target.classList.contains('lightbox-close')) {
+                lightbox.classList.remove('active');
+                galleryState.items = [];
+                galleryState.index = 0;
             }
         });
-        
-        // Ultimate IDM blocker - intercept any external download attempts
-        Object.defineProperty(window, 'external', {
-            value: null,
-            writable: false,
-            configurable: false
+    }
+
+    var scrollTopBtn = document.querySelector('.scroll-top-btn');
+    if (scrollTopBtn) {
+        scrollTopBtn.addEventListener('click', function() {
+            window.scrollTo({ top: 0, behavior: 'smooth' });
         });
-        
-        // Block IDM browser helpers
-        if (window.chrome && window.chrome.webstore) {
-            delete window.chrome.webstore;
-        }
-        
-        // Disable IDM keyboard shortcuts
-        document.addEventListener('keydown', function(e) {
-            // Block Ctrl+S, Ctrl+D, Alt+Click on PDF areas
-            if (e.target.closest('.pdf-container, .pdf-viewer')) {
-                if ((e.ctrlKey && (e.key === 's' || e.key === 'd')) || 
-                    (e.altKey && e.type === 'click')) {
-                    e.preventDefault();
-                    e.stopPropagation();
-                    console.log('IDM shortcut blocked');
-                    return false;
-                }
-            }
+    }
+
+    var printBtn = document.querySelector('.print-btn');
+    if (printBtn) {
+        printBtn.addEventListener('click', function() {
+            window.print();
         });
-        
-        // Monitor and block any IDM injected elements
-        const idmBlocker = new MutationObserver(function(mutations) {
-            mutations.forEach(function(mutation) {
-                mutation.addedNodes.forEach(function(node) {
-                    if (node.nodeType === 1) { // Element node
-                        // Check for IDM-like elements and remove them
-                        if (node.className && typeof node.className === 'string') {
-                            if (node.className.includes('idm') || 
-                                node.className.includes('download') ||
-                                node.className.includes('IDM')) {
-                                console.log('Removing IDM element:', node);
-                                node.remove();
-                            }
-                        }
-                        
-                        // Check for IDM overlay divs
-                        if (node.style && node.style.position === 'absolute' && 
-                            node.style.zIndex > 1000) {
-                            const rect = node.getBoundingClientRect();
-                            const pdfContainers = document.querySelectorAll('.pdf-container');
-                            pdfContainers.forEach(function(container) {
-                                const containerRect = container.getBoundingClientRect();
-                                if (rect.left < containerRect.right && 
-                                    rect.right > containerRect.left &&
-                                    rect.top < containerRect.bottom && 
-                                    rect.bottom > containerRect.top) {
-                                    console.log('Removing IDM overlay:', node);
-                                    node.remove();
-                                }
-                            });
-                        }
-                    }
+    }
+
+    var shareBtn = document.querySelector('.share-btn');
+    if (shareBtn) {
+        shareBtn.addEventListener('click', function() {
+            if (navigator.share) {
+                navigator.share({ title: document.title, url: window.location.href });
+            } else if (navigator.clipboard && navigator.clipboard.writeText) {
+                navigator.clipboard.writeText(window.location.href).then(function() {
+                    alert('تم نسخ الرابط');
                 });
-            });
-        });
-        
-        idmBlocker.observe(document.body, {
-            childList: true,
-            subtree: true,
-            attributes: true,
-            attributeFilter: ['class', 'style']
+            }
         });
     }
-    
-    // Initialize all IDM protections
-    preventIDMInterception();
-    enhancedIDMProtection();
-    
-    // Initialize PDF viewers using protected proxy
-    console.log('Initializing protected PDF viewers...');
-    
-    setTimeout(function() {
-        if (typeof window.pdfFiles !== 'undefined' && Object.keys(window.pdfFiles).length > 0) {
-            console.log('Protected PDF files found:', Object.keys(window.pdfFiles));
-            
-            for (let day in window.pdfFiles) {
-                const iframe = document.getElementById('pdf-iframe-' + day);
-                const loading = document.getElementById('pdf-loading-' + day);
-                const canvas = document.getElementById('pdf-canvas-' + day);
-                
-                if (iframe && loading) {
-                    console.log('Initializing protected PDF for:', day);
-                    
-                    // إخفاء canvas واستخدام iframe فقط
-                    if (canvas) canvas.style.display = 'none';
-                    
-                    // تحميل PDF المحمي
-                    loading.style.display = 'flex';
-                    iframe.style.display = 'none';
-                    
-                    // استخدام الـ proxy المحمي
-                    iframe.src = window.pdfFiles[day];
-                    iframe.setAttribute('data-protected-pdf', 'true');
-                    iframe.setAttribute('sandbox', 'allow-same-origin allow-scripts allow-forms allow-popups');
-                    
-                    // إعداد معالجات الأحداث
-                    iframe.onload = function() {
-                        console.log('Protected PDF loaded successfully for', day, 'URL:', window.pdfFiles[day]);
-                        loading.style.display = 'none';
-                        iframe.style.display = 'block';
-                        
-                        // إضافة رسالة نجاح
-                        setTimeout(function() {
-                            const successMsg = document.createElement('div');
-                            successMsg.innerHTML = '<div style=\"background: #4caf50; color: white; padding: 0.5rem; text-align: center; border-radius: 4px; margin-bottom: 0.5rem;\">تم تحميل المستند بنجاح ✓</div>';
-                            iframe.parentNode.insertBefore(successMsg, iframe);
-                            setTimeout(() => successMsg.remove(), 3000);
-                        }, 100);
-                    };
-                    
-                    iframe.onerror = function() {
-                        console.error('Protected PDF failed for', day, 'URL:', window.pdfFiles[day]);
-                        loading.innerHTML = '<div style=\"color: #d32f2f; text-align: center; padding: 2rem; background: #ffebee; border-radius: 8px; border: 1px solid #ffcdd2;\"><p style=\"font-weight: bold; margin-bottom: 0.5rem;\">خطأ في تحميل المستند</p><p style=\"font-size: 0.9em; color: #666; margin-bottom: 1rem;\">تحقق من إعدادات الملفات أو اتصال الإنترنت</p><button onclick=\"location.reload()\" style=\"background: #156b68; color: white; padding: 0.5rem 1rem; border: none; border-radius: 4px; cursor: pointer; font-weight: bold;\">إعادة المحاولة</button><br><small style=\"margin-top: 1rem; display: block; color: #999;\">Day: ' + day + '</small></div>';
-                    };
-                    
-                    // إضافة timeout للكشف عن المشاكل
-                    setTimeout(function() {
-                        if (loading.style.display !== 'none') {
-                            console.warn('PDF loading taking too long for', day);
-                            loading.innerHTML = '<div style=\"color: #ff9800; text-align: center; padding: 2rem;\"><div class=\"spinner\"></div><p>التحميل يستغرق وقتاً أطول من المعتاد...</p><p style=\"font-size: 0.8em; color: #666;\">إذا استمر التحميل، جرب إعادة تحميل الصفحة</p></div>';
-                        }
-                    }, 10000); // 10 seconds timeout
-                    
-                    // إخفاء أزرار التنقل لأن الـ proxy يتولى العرض
-                    const controls = document.querySelector('#' + day.replace('day', 'day') + ' .pdf-controls');
-                    if (controls) {
-                        const buttons = controls.querySelectorAll('.pdf-btn:not(.download-btn)');\n                        buttons.forEach(btn => btn.style.display = 'none');
-                    }
-                } else {
-                    console.error('Missing elements for protected PDF:', day);
-                }
+
+    var qrShareButtons = toArray(document.querySelectorAll('.qr-share-btn'));
+    qrShareButtons.forEach(function(button) {
+        button.addEventListener('click', function() {
+            var url = button.getAttribute('data-url');
+            var title = body.classList.contains('lang-en-active') ? button.getAttribute('data-title-en') : button.getAttribute('data-title-ar');
+            if (!url) {
+                return;
             }
-        } else {
-            console.log('No protected PDF files configured');
-        }
-    }, 300);
-    
-    // Enhanced protection for download links from IDM
-    $('.download-btn[data-no-idm]').on('click', function(e) {
-        e.preventDefault();
-        const link = this;
-        const originalHref = link.href;
-        
-        // Create dynamic anti-IDM URL
-        const antiIdmParams = [
-            'viewer=browser',
-            'display=inline', 
-            'content-disposition=inline',
-            'x-download=false',
-            'embed=true',
-            'nodownload=1',
-            'browser-view=1',
-            'anti-idm=' + Math.random().toString(36).substring(7),
-            't=' + Date.now()
-        ].join('&');
-        
-        const protectedUrl = originalHref + (originalHref.includes('?') ? '&' : '?') + antiIdmParams;
-        
-        // Open in new window with specific features to avoid IDM
-        const newWindow = window.open('', '_blank', 'width=1000,height=800,scrollbars=yes,resizable=yes,toolbar=no,menubar=no,location=no,status=no');
-        if (newWindow) {
-            newWindow.document.write(`
-                <html>
-                    <head>
-                        <title>PDF Viewer</title>
-                        <style>
-                            body { margin: 0; padding: 0; }
-                            iframe { width: 100%; height: 100vh; border: none; }
-                        </style>
-                    </head>
-                    <body>
-                        <iframe src="${protectedUrl}#toolbar=1&navpanes=1&scrollbar=1" 
-                                data-no-download="true" 
-                                data-anti-idm="true"
-                                sandbox="allow-same-origin allow-scripts allow-forms">
-                        </iframe>
-                    </body>
-                </html>
-            `);
-            newWindow.document.close();
-        } else {
-            // Fallback: direct link
-            window.location.href = protectedUrl;
-        }
+            if (navigator.share) {
+                navigator.share({ title: title || document.title, url: url });
+            } else if (navigator.clipboard && navigator.clipboard.writeText) {
+                navigator.clipboard.writeText(url).then(function() {
+                    alert('تم نسخ الرابط');
+                });
+            }
+        });
     });
-    
-    // QR share buttons
-    $('.qr-share-btn').on('click', function() {
-        var url = $(this).data('url');
-        var title = $(this).data('title-ar');
-        
-        if (navigator.share) {
-            navigator.share({
-                title: title,
-                url: url
-            });
-        } else {
-            navigator.clipboard.writeText(url);
-            alert('تم نسخ الرابط');
-        }
+
+    var pdfFrames = toArray(document.querySelectorAll('[data-pdf-frame]'));
+    pdfFrames.forEach(function(frame) {
+        var wrapper = frame.closest('[data-pdf-wrapper]');
+        var loader = wrapper ? wrapper.querySelector('.pdf-loading') : null;
+
+        frame.addEventListener('load', function() {
+            if (loader) {
+                loader.classList.add('is-hidden');
+            }
+        });
+
+        frame.addEventListener('error', function() {
+            if (loader) {
+                loader.classList.remove('is-hidden');
+                loader.classList.add('has-error');
+                loader.innerHTML = '<p>تعذر تحميل ملف PDF.</p>';
+            }
+        });
     });
 });
 </script>
-
 <?php wp_footer(); ?>
 </body>
 </html>
\ No newline at end of file
diff --git a/functions copy.php b/functions copy.php
deleted file mode 100644
index 117babb..0000000
--- a/functions copy.php	
+++ /dev/null
@@ -1,528 +0,0 @@
-<?php
-/**
- * Arab Board Event 2025 Theme Functions
- * 
- * @package Arab_Board_Event_2025
- * @version 1.0.0
- */
-
-// Prevent direct access
-if (!defined('ABSPATH')) {
-    exit;
-}
-
-// Theme setup
-function arab_board_2025_setup() {
-    // Add theme support
-    add_theme_support('post-thumbnails');
-    add_theme_support('title-tag');
-    add_theme_support('html5', array(
-        'search-form',
-        'comment-form', 
-        'comment-list',
-        'gallery',
-        'caption'
-    ));
-    
-    // Load text domain for translations
-    load_theme_textdomain('arab-board-event-2025', get_template_directory() . '/languages');
-    
-    // Register navigation menus
-    register_nav_menus(array(
-        'primary' => __('القائمة الرئيسية', 'arab-board-event-2025'),
-        'footer' => __('قائمة التذييل', 'arab-board-event-2025')
-    ));
-}
-add_action('after_setup_theme', 'arab_board_2025_setup');
-
-// Enqueue styles and scripts
-function arab_board_2025_scripts() {
-    // Google Fonts
-    wp_enqueue_style(
-        'google-fonts',
-        'https://fonts.googleapis.com/css2?family=Almarai:wght@300;400;600;700;800;900&family=Cairo:wght@300;400;600;700;800;900&family=Roboto:wght@300;400;500;700;900&display=swap',
-        array(),
-        '1.0.0'
-    );
-    
-    // Font Awesome
-    wp_enqueue_style(
-        'font-awesome',
-        'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css',
-        array(),
-        '6.4.0'
-    );
-    
-    // Theme stylesheet
-    wp_enqueue_style(
-        'arab-board-2025-style',
-        get_stylesheet_uri(),
-        array(),
-        '1.0.0'
-    );
-    
-    // Custom CSS file
-    wp_enqueue_style(
-        'arab-board-2025-custom',
-        get_template_directory_uri() . '/assets/css/custom.css',
-        array('arab-board-2025-style'),
-        '2.0.0'
-    );
-    
-    // Event Clean CSS file
-    wp_enqueue_style(
-        'event-clean-style',
-        get_template_directory_uri() . '/assets/css/event-clean.css',
-        array('arab-board-2025-custom'),
-        '1.0.0'
-    );
-    
-    // Print CSS file
-    wp_enqueue_style(
-        'arab-board-2025-print',
-        get_template_directory_uri() . '/assets/css/print.css',
-        array(),
-        '1.0.0',
-        'print'
-    );
-    
-    // Immediate fix CSS (high priority)
-    wp_enqueue_style(
-        'arab-board-2025-immediate-fix',
-        get_template_directory_uri() . '/assets/css/immediate-fix.css',
-        array(),
-        '1.0.0'
-    );
-    
-    // jQuery (WordPress includes it)
-    wp_enqueue_script('jquery');
-    
-    // Custom JavaScript
-    wp_enqueue_script(
-        'arab-board-2025-script',
-        get_template_directory_uri() . '/assets/js/main.js',
-        array('jquery'),
-        '1.0.0',
-        true
-    );
-    
-    // Localize script for AJAX
-    wp_localize_script('arab-board-2025-script', 'arabBoard2025Ajax', array(
-        'ajaxurl' => admin_url('admin-ajax.php'),
-        'nonce' => wp_create_nonce('arab_board_2025_nonce')
-    ));
-}
-add_action('wp_enqueue_scripts', 'arab_board_2025_scripts');
-
-// Add admin styles and scripts
-function arab_board_2025_admin_scripts() {
-    wp_enqueue_media();
-    wp_enqueue_script('jquery-ui-datepicker');
-    wp_enqueue_script('jquery-ui-sortable');
-    wp_enqueue_style('wp-color-picker');
-    wp_enqueue_script('wp-color-picker');
-    
-    // Admin custom CSS
-    wp_enqueue_style(
-        'arab-board-2025-admin',
-        get_template_directory_uri() . '/assets/css/admin.css',
-        array(),
-        '1.0.0'
-    );
-    
-    // Admin custom JS
-    wp_enqueue_script(
-        'arab-board-2025-admin-js',
-        get_template_directory_uri() . '/assets/js/admin.js',
-        array('jquery', 'wp-color-picker'),
-        '1.0.0',
-        true
-    );
-}
-add_action('admin_enqueue_scripts', 'arab_board_2025_admin_scripts');
-
-// Add custom meta boxes
-function arab_board_2025_add_meta_boxes() {
-    $screens = array('page');
-    
-    foreach ($screens as $screen) {
-        // Event Settings Meta Box
-        add_meta_box(
-            'event_settings',
-            __('إعدادات الفعالية', 'arab-board-event-2025'),
-            'arab_board_2025_event_settings_callback',
-            $screen,
-            'normal',
-            'high'
-        );
-        
-        // Day 1 Content Meta Box  
-        add_meta_box(
-            'day_1_content',
-            __('محتوى اليوم الأول', 'arab-board-event-2025'),
-            'arab_board_2025_day_1_content_callback',
-            $screen,
-            'normal',
-            'high'
-        );
-        
-        // Day 2 Content Meta Box
-        add_meta_box(
-            'day_2_content', 
-            __('محتوى اليوم الثاني', 'arab-board-event-2025'),
-            'arab_board_2025_day_2_content_callback',
-            $screen,
-            'normal',
-            'high'
-        );
-        
-        // QR Cards Meta Box
-        add_meta_box(
-            'qr_cards',
-            __('بطاقات QR', 'arab-board-event-2025'),
-            'arab_board_2025_qr_cards_callback',
-            $screen,
-            'normal',
-            'high'
-        );
-    }
-}
-add_action('add_meta_boxes', 'arab_board_2025_add_meta_boxes');
-
-// Event Settings Callback
-function arab_board_2025_event_settings_callback($post) {
-    wp_nonce_field('arab_board_2025_meta_nonce', 'arab_board_2025_meta_nonce');
-    
-    $event_title_ar = get_post_meta($post->ID, '_event_title_ar', true);
-    $event_title_en = get_post_meta($post->ID, '_event_title_en', true);
-    $event_subtitle_ar = get_post_meta($post->ID, '_event_subtitle_ar', true);
-    $event_subtitle_en = get_post_meta($post->ID, '_event_subtitle_en', true);
-    $event_date_start = get_post_meta($post->ID, '_event_date_start', true);
-    $event_date_end = get_post_meta($post->ID, '_event_date_end', true);
-    $event_location_ar = get_post_meta($post->ID, '_event_location_ar', true);
-    $event_location_en = get_post_meta($post->ID, '_event_location_en', true);
-    $event_language = get_post_meta($post->ID, '_event_language', true) ?: 'ar';
-    
-    ?>
-    <table class="form-table">
-        <tr>
-            <th><label for="event_language"><?php _e('لغة الموقع:', 'arab-board-event-2025'); ?></label></th>
-            <td>
-                <select id="event_language" name="event_language" class="regular-text">
-                    <option value="ar" <?php selected($event_language, 'ar'); ?>><?php _e('العربية', 'arab-board-event-2025'); ?></option>
-                    <option value="en" <?php selected($event_language, 'en'); ?>><?php _e('English', 'arab-board-event-2025'); ?></option>
-                </select>
-            </td>
-        </tr>
-        <tr>
-            <th><label for="event_title_ar"><?php _e('عنوان الفعالية (عربي):', 'arab-board-event-2025'); ?></label></th>
-            <td><input type="text" id="event_title_ar" name="event_title_ar" value="<?php echo esc_attr($event_title_ar); ?>" class="regular-text" /></td>
-        </tr>
-        <tr>
-            <th><label for="event_title_en"><?php _e('عنوان الفعالية (إنجليزي):', 'arab-board-event-2025'); ?></label></th>
-            <td><input type="text" id="event_title_en" name="event_title_en" value="<?php echo esc_attr($event_title_en); ?>" class="regular-text" /></td>
-        </tr>
-        <tr>
-            <th><label for="event_subtitle_ar"><?php _e('العنوان الفرعي (عربي):', 'arab-board-event-2025'); ?></label></th>
-            <td><input type="text" id="event_subtitle_ar" name="event_subtitle_ar" value="<?php echo esc_attr($event_subtitle_ar); ?>" class="regular-text" /></td>
-        </tr>
-        <tr>
-            <th><label for="event_subtitle_en"><?php _e('العنوان الفرعي (إنجليزي):', 'arab-board-event-2025'); ?></label></th>
-            <td><input type="text" id="event_subtitle_en" name="event_subtitle_en" value="<?php echo esc_attr($event_subtitle_en); ?>" class="regular-text" /></td>
-        </tr>
-        <tr>
-            <th><label for="event_date_start"><?php _e('تاريخ البداية:', 'arab-board-event-2025'); ?></label></th>
-            <td><input type="date" id="event_date_start" name="event_date_start" value="<?php echo esc_attr($event_date_start); ?>" class="regular-text" /></td>
-        </tr>
-        <tr>
-            <th><label for="event_date_end"><?php _e('تاريخ النهاية:', 'arab-board-event-2025'); ?></label></th>
-            <td><input type="date" id="event_date_end" name="event_date_end" value="<?php echo esc_attr($event_date_end); ?>" class="regular-text" /></td>
-        </tr>
-        <tr>
-            <th><label for="event_location_ar"><?php _e('المكان (عربي):', 'arab-board-event-2025'); ?></label></th>
-            <td><input type="text" id="event_location_ar" name="event_location_ar" value="<?php echo esc_attr($event_location_ar); ?>" class="regular-text" /></td>
-        </tr>
-        <tr>
-            <th><label for="event_location_en"><?php _e('المكان (إنجليزي):', 'arab-board-event-2025'); ?></label></th>
-            <td><input type="text" id="event_location_en" name="event_location_en" value="<?php echo esc_attr($event_location_en); ?>" class="regular-text" /></td>
-        </tr>
-    </table>
-    <?php
-}
-
-// Day 1 Content Callback
-function arab_board_2025_day_1_content_callback($post) {
-    $day1_pdf = get_post_meta($post->ID, '_day1_pdf', true);
-    $day1_images = get_post_meta($post->ID, '_day1_images', true) ?: array();
-    $day1_schedule = get_post_meta($post->ID, '_day1_schedule', true) ?: array();
-    
-    ?>
-    <div class="day-content-admin">
-        <!-- PDF Upload -->
-        <h4><?php _e('ملف PDF لليوم الأول:', 'arab-board-event-2025'); ?></h4>
-        <input type="hidden" id="day1_pdf" name="day1_pdf" value="<?php echo esc_attr($day1_pdf); ?>" />
-        <button type="button" class="button upload-pdf-btn" data-target="day1_pdf"><?php _e('رفع PDF', 'arab-board-event-2025'); ?></button>
-        <button type="button" class="button remove-pdf-btn" data-target="day1_pdf"><?php _e('حذف PDF', 'arab-board-event-2025'); ?></button>
-        <div class="pdf-preview" id="day1_pdf_preview">
-            <?php if ($day1_pdf): ?>
-                <a href="<?php echo esc_url($day1_pdf); ?>" target="_blank"><?php _e('عرض PDF', 'arab-board-event-2025'); ?></a>
-            <?php endif; ?>
-        </div>
-        
-        <!-- Images Gallery -->
-        <h4><?php _e('صور اليوم الأول:', 'arab-board-event-2025'); ?></h4>
-        <div class="images-gallery-admin" id="day1_images_gallery">
-            <?php foreach ($day1_images as $image): ?>
-                <div class="image-item">
-                    <img src="<?php echo esc_url($image); ?>" style="max-width: 100px;" />
-                    <input type="hidden" name="day1_images[]" value="<?php echo esc_attr($image); ?>" />
-                    <button type="button" class="button remove-image-btn"><?php _e('حذف', 'arab-board-event-2025'); ?></button>
-                </div>
-            <?php endforeach; ?>
-        </div>
-        <button type="button" class="button add-images-btn" data-target="day1_images_gallery" data-name="day1_images"><?php _e('إضافة صور', 'arab-board-event-2025'); ?></button>
-        
-        <!-- Schedule Table -->
-        <h4><?php _e('جدول أعمال اليوم الأول:', 'arab-board-event-2025'); ?></h4>
-        <div class="schedule-admin" id="day1_schedule">
-            <table class="widefat">
-                <thead>
-                    <tr>
-                        <th><?php _e('الوقت', 'arab-board-event-2025'); ?></th>
-                        <th><?php _e('النشاط (عربي)', 'arab-board-event-2025'); ?></th>
-                        <th><?php _e('النشاط (إنجليزي)', 'arab-board-event-2025'); ?></th>
-                        <th><?php _e('إجراءات', 'arab-board-event-2025'); ?></th>
-                    </tr>
-                </thead>
-                <tbody class="schedule-tbody">
-                    <?php foreach ($day1_schedule as $index => $item): ?>
-                        <tr>
-                            <td><input type="time" name="day1_schedule[<?php echo $index; ?>][time]" value="<?php echo esc_attr($item['time'] ?? ''); ?>" /></td>
-                            <td><input type="text" name="day1_schedule[<?php echo $index; ?>][activity_ar]" value="<?php echo esc_attr($item['activity_ar'] ?? ''); ?>" /></td>
-                            <td><input type="text" name="day1_schedule[<?php echo $index; ?>][activity_en]" value="<?php echo esc_attr($item['activity_en'] ?? ''); ?>" /></td>
-                            <td><button type="button" class="button remove-schedule-row"><?php _e('حذف', 'arab-board-event-2025'); ?></button></td>
-                        </tr>
-                    <?php endforeach; ?>
-                </tbody>
-            </table>
-            <button type="button" class="button add-schedule-row" data-day="1"><?php _e('إضافة صف', 'arab-board-event-2025'); ?></button>
-        </div>
-    </div>
-    <?php
-}
-
-// Day 2 Content Callback
-function arab_board_2025_day_2_content_callback($post) {
-    $day2_pdf = get_post_meta($post->ID, '_day2_pdf', true);
-    $day2_images = get_post_meta($post->ID, '_day2_images', true) ?: array();
-    $day2_schedule = get_post_meta($post->ID, '_day2_schedule', true) ?: array();
-    
-    ?>
-    <div class="day-content-admin">
-        <!-- PDF Upload -->
-        <h4><?php _e('ملف PDF لليوم الثاني:', 'arab-board-event-2025'); ?></h4>
-        <input type="hidden" id="day2_pdf" name="day2_pdf" value="<?php echo esc_attr($day2_pdf); ?>" />
-        <button type="button" class="button upload-pdf-btn" data-target="day2_pdf"><?php _e('رفع PDF', 'arab-board-event-2025'); ?></button>
-        <button type="button" class="button remove-pdf-btn" data-target="day2_pdf"><?php _e('حذف PDF', 'arab-board-event-2025'); ?></button>
-        <div class="pdf-preview" id="day2_pdf_preview">
-            <?php if ($day2_pdf): ?>
-                <a href="<?php echo esc_url($day2_pdf); ?>" target="_blank"><?php _e('عرض PDF', 'arab-board-event-2025'); ?></a>
-            <?php endif; ?>
-        </div>
-        
-        <!-- Images Gallery -->
-        <h4><?php _e('صور اليوم الثاني:', 'arab-board-event-2025'); ?></h4>
-        <div class="images-gallery-admin" id="day2_images_gallery">
-            <?php foreach ($day2_images as $image): ?>
-                <div class="image-item">
-                    <img src="<?php echo esc_url($image); ?>" style="max-width: 100px;" />
-                    <input type="hidden" name="day2_images[]" value="<?php echo esc_attr($image); ?>" />
-                    <button type="button" class="button remove-image-btn"><?php _e('حذف', 'arab-board-event-2025'); ?></button>
-                </div>
-            <?php endforeach; ?>
-        </div>
-        <button type="button" class="button add-images-btn" data-target="day2_images_gallery" data-name="day2_images"><?php _e('إضافة صور', 'arab-board-event-2025'); ?></button>
-        
-        <!-- Schedule Table -->
-        <h4><?php _e('جدول أعمال اليوم الثاني:', 'arab-board-event-2025'); ?></h4>
-        <div class="schedule-admin" id="day2_schedule">
-            <table class="widefat">
-                <thead>
-                    <tr>
-                        <th><?php _e('الوقت', 'arab-board-event-2025'); ?></th>
-                        <th><?php _e('النشاط (عربي)', 'arab-board-event-2025'); ?></th>
-                        <th><?php _e('النشاط (إنجليزي)', 'arab-board-event-2025'); ?></th>
-                        <th><?php _e('إجراءات', 'arab-board-event-2025'); ?></th>
-                    </tr>
-                </thead>
-                <tbody class="schedule-tbody">
-                    <?php foreach ($day2_schedule as $index => $item): ?>
-                        <tr>
-                            <td><input type="time" name="day2_schedule[<?php echo $index; ?>][time]" value="<?php echo esc_attr($item['time'] ?? ''); ?>" /></td>
-                            <td><input type="text" name="day2_schedule[<?php echo $index; ?>][activity_ar]" value="<?php echo esc_attr($item['activity_ar'] ?? ''); ?>" /></td>
-                            <td><input type="text" name="day2_schedule[<?php echo $index; ?>][activity_en]" value="<?php echo esc_attr($item['activity_en'] ?? ''); ?>" /></td>
-                            <td><button type="button" class="button remove-schedule-row"><?php _e('حذف', 'arab-board-event-2025'); ?></button></td>
-                        </tr>
-                    <?php endforeach; ?>
-                </tbody>
-            </table>
-            <button type="button" class="button add-schedule-row" data-day="2"><?php _e('إضافة صف', 'arab-board-event-2025'); ?></button>
-        </div>
-    </div>
-    <?php
-}
-
-// QR Cards Callback
-function arab_board_2025_qr_cards_callback($post) {
-    $qr_cards = get_post_meta($post->ID, '_qr_cards', true) ?: array();
-    
-    ?>
-    <div class="qr-cards-admin" id="qr_cards_admin">
-        <?php foreach ($qr_cards as $index => $card): ?>
-            <div class="qr-card-item">
-                <table class="form-table">
-                    <tr>
-                        <th><label><?php _e('اسم البطاقة (عربي):', 'arab-board-event-2025'); ?></label></th>
-                        <td><input type="text" name="qr_cards[<?php echo $index; ?>][name_ar]" value="<?php echo esc_attr($card['name_ar'] ?? ''); ?>" /></td>
-                    </tr>
-                    <tr>
-                        <th><label><?php _e('اسم البطاقة (إنجليزي):', 'arab-board-event-2025'); ?></label></th>
-                        <td><input type="text" name="qr_cards[<?php echo $index; ?>][name_en]" value="<?php echo esc_attr($card['name_en'] ?? ''); ?>" /></td>
-                    </tr>
-                    <tr>
-                        <th><label><?php _e('الرابط:', 'arab-board-event-2025'); ?></label></th>
-                        <td><input type="url" name="qr_cards[<?php echo $index; ?>][url]" value="<?php echo esc_attr($card['url'] ?? ''); ?>" /></td>
-                    </tr>
-                    <tr>
-                        <th><label><?php _e('صورة QR:', 'arab-board-event-2025'); ?></label></th>
-                        <td>
-                            <input type="hidden" name="qr_cards[<?php echo $index; ?>][qr_image]" value="<?php echo esc_attr($card['qr_image'] ?? ''); ?>" class="qr-image-input" />
-                            <button type="button" class="button upload-qr-btn"><?php _e('رفع صورة QR', 'arab-board-event-2025'); ?></button>
-                            <button type="button" class="button remove-qr-image-btn"><?php _e('حذف الصورة', 'arab-board-event-2025'); ?></button>
-                            <div class="qr-image-preview">
-                                <?php if (!empty($card['qr_image'])): ?>
-                                    <img src="<?php echo esc_url($card['qr_image']); ?>" style="max-width: 100px;" />
-                                <?php endif; ?>
-                            </div>
-                        </td>
-                    </tr>
-                </table>
-                <button type="button" class="button remove-qr-card"><?php _e('حذف البطاقة', 'arab-board-event-2025'); ?></button>
-                <hr />
-            </div>
-        <?php endforeach; ?>
-    </div>
-    <button type="button" class="button-primary add-qr-card"><?php _e('إضافة بطاقة QR جديدة', 'arab-board-event-2025'); ?></button>
-    <?php
-}
-
-// Save meta box data
-function arab_board_2025_save_meta_boxes($post_id) {
-    // Check if user has permission to edit the post
-    if (!current_user_can('edit_post', $post_id)) {
-        return;
-    }
-    
-    // Verify nonce
-    if (!isset($_POST['arab_board_2025_meta_nonce']) || !wp_verify_nonce($_POST['arab_board_2025_meta_nonce'], 'arab_board_2025_meta_nonce')) {
-        return;
-    }
-    
-    // Save event settings
-    $event_fields = array(
-        'event_title_ar', 'event_title_en', 'event_subtitle_ar', 'event_subtitle_en',
-        'event_date_start', 'event_date_end', 'event_location_ar', 'event_location_en', 'event_language'
-    );
-    
-    foreach ($event_fields as $field) {
-        if (isset($_POST[$field])) {
-            update_post_meta($post_id, '_' . $field, sanitize_text_field($_POST[$field]));
-        }
-    }
-    
-    // Save day content
-    for ($day = 1; $day <= 2; $day++) {
-        // Save PDF
-        if (isset($_POST["day{$day}_pdf"])) {
-            update_post_meta($post_id, "_day{$day}_pdf", esc_url_raw($_POST["day{$day}_pdf"]));
-        }
-        
-        // Save images
-        if (isset($_POST["day{$day}_images"]) && is_array($_POST["day{$day}_images"])) {
-            $images = array_map('esc_url_raw', $_POST["day{$day}_images"]);
-            update_post_meta($post_id, "_day{$day}_images", $images);
-        } else {
-            delete_post_meta($post_id, "_day{$day}_images");
-        }
-        
-        // Save schedule
-        if (isset($_POST["day{$day}_schedule"]) && is_array($_POST["day{$day}_schedule"])) {
-            $schedule = array();
-            foreach ($_POST["day{$day}_schedule"] as $item) {
-                if (!empty($item['time']) || !empty($item['activity_ar']) || !empty($item['activity_en'])) {
-                    $schedule[] = array(
-                        'time' => sanitize_text_field($item['time']),
-                        'activity_ar' => sanitize_text_field($item['activity_ar']),
-                        'activity_en' => sanitize_text_field($item['activity_en'])
-                    );
-                }
-            }
-            update_post_meta($post_id, "_day{$day}_schedule", $schedule);
-        } else {
-            delete_post_meta($post_id, "_day{$day}_schedule");
-        }
-    }
-    
-    // Save QR cards
-    if (isset($_POST['qr_cards']) && is_array($_POST['qr_cards'])) {
-        $qr_cards = array();
-        foreach ($_POST['qr_cards'] as $card) {
-            if (!empty($card['name_ar']) || !empty($card['name_en']) || !empty($card['url'])) {
-                $qr_cards[] = array(
-                    'name_ar' => sanitize_text_field($card['name_ar']),
-                    'name_en' => sanitize_text_field($card['name_en']),
-                    'url' => esc_url_raw($card['url']),
-                    'qr_image' => esc_url_raw($card['qr_image'])
-                );
-            }
-        }
-        update_post_meta($post_id, '_qr_cards', $qr_cards);
-    } else {
-        delete_post_meta($post_id, '_qr_cards');
-    }
-}
-add_action('save_post', 'arab_board_2025_save_meta_boxes');
-
-// Helper function to get event data
-function arab_board_2025_get_event_data($post_id = null) {
-    if (!$post_id) {
-        $post_id = get_the_ID();
-    }
-    
-    if (!$post_id) {
-        $post_id = get_option('page_on_front');
-    }
-    
-    if (!$post_id) {
-        return array();
-    }
-    
-    return array(
-        'language' => get_post_meta($post_id, '_event_language', true) ?: 'ar',
-        'title_ar' => get_post_meta($post_id, '_event_title_ar', true),
-        'title_en' => get_post_meta($post_id, '_event_title_en', true),
-        'subtitle_ar' => get_post_meta($post_id, '_event_subtitle_ar', true),
-        'subtitle_en' => get_post_meta($post_id, '_event_subtitle_en', true),
-        'date_start' => get_post_meta($post_id, '_event_date_start', true),
-        'date_end' => get_post_meta($post_id, '_event_date_end', true),
-        'location_ar' => get_post_meta($post_id, '_event_location_ar', true),
-        'location_en' => get_post_meta($post_id, '_event_location_en', true),
-        'day1_pdf' => get_post_meta($post_id, '_day1_pdf', true),
-        'day1_images' => get_post_meta($post_id, '_day1_images', true) ?: array(),
-        'day1_schedule' => get_post_meta($post_id, '_day1_schedule', true) ?: array(),
-        'day2_pdf' => get_post_meta($post_id, '_day2_pdf', true),
-        'day2_images' => get_post_meta($post_id, '_day2_images', true) ?: array(),
-        'day2_schedule' => get_post_meta($post_id, '_day2_schedule', true) ?: array(),
-        'qr_cards' => get_post_meta($post_id, '_qr_cards', true) ?: array()
-    );
-}
\ No newline at end of file
diff --git a/functions-backup.php b/functions-backup.php
deleted file mode 100644
index 3d335b7..0000000
--- a/functions-backup.php
+++ /dev/null
@@ -1,673 +0,0 @@
-<?php
-/**
- * Arab Board Event 2025 Theme Functions
- * 
- * @package Arab_Board_Event_2025
- * @version 1.0.0
- */
-
-// Prevent direct access
-if (!defined('ABSPATH')) {
-    exit;
-}
-
-// Theme setup
-function arab_board_2025_setup() {
-    // Add theme support
-    add_theme_support('post-thumbnails');
-    add_theme_support('title-tag');
-    add_theme_support('html5', array(
-        'search-form',
-        'comment-form', 
-        'comment-list',
-        'gallery',
-        'caption'
-    ));
-    
-    // Load text domain for translations
-    load_theme_textdomain('arab-board-event-2025', get_template_directory() . '/languages');
-    
-    // Register navigation menus
-    register_nav_menus(array(
-        'primary' => __('القائمة الرئيسية', 'arab-board-event-2025'),
-        'footer' => __('قائمة التذييل', 'arab-board-event-2025')
-    ));
-}
-add_action('after_setup_theme', 'arab_board_2025_setup');
-
-// Enqueue styles and scripts
-function arab_board_2025_scripts() {
-    // Google Fonts
-    wp_enqueue_style(
-        'google-fonts',
-        'https://fonts.googleapis.com/css2?family=Almarai:wght@300;400;600;700;800;900&family=Cairo:wght@300;400;600;700;800;900&family=Roboto:wght@300;400;500;700;900&display=swap',
-        array(),
-        '1.0.0'
-    );
-    
-    // Font Awesome
-    wp_enqueue_style(
-        'font-awesome',
-        'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css',
-        array(),
-        '6.4.0'
-    );
-    
-    // Theme stylesheet
-    wp_enqueue_style(
-        'arab-board-2025-style',
-        get_stylesheet_uri(),
-        array(),
-        '1.0.0'
-    );
-    
-    // Custom CSS file
-    wp_enqueue_style(
-        'arab-board-2025-custom',
-        get_template_directory_uri() . '/assets/css/custom.css',
-        array('arab-board-2025-style'),
-        '3.0.0'
-    );
-    
-    // Event Clean CSS file
-    wp_enqueue_style(
-        'event-clean-style',
-        get_template_directory_uri() . '/assets/css/event-clean.css',
-        array('arab-board-2025-custom'),
-        time() // Always fresh - no cache
-    );
-    
-    // Print CSS file
-    wp_enqueue_style(
-        'arab-board-2025-print',
-        get_template_directory_uri() . '/assets/css/print.css',
-        array(),
-        '1.0.0',
-        'print'
-    );
-    
-    // Immediate fix CSS (high priority)
-    wp_enqueue_style(
-        'arab-board-2025-immediate-fix',
-        get_template_directory_uri() . '/assets/css/immediate-fix.css',
-        array(),
-        '1.0.0'
-    );
-    
-    // jQuery (WordPress includes it)
-    wp_enqueue_script('jquery');
-    
-    // Anti-IDM Protection Script (High Priority)
-    wp_enqueue_script(
-        'arab-board-2025-anti-idm',
-        get_template_directory_uri() . '/assets/js/anti-idm-protection.js',
-        array(),
-        '2.0.0',
-        false // Load in head for maximum protection
-    );
-    
-    // Custom JavaScript
-    wp_enqueue_script(
-        'arab-board-2025-script',
-        get_template_directory_uri() . '/assets/js/main.js',
-        array('jquery', 'arab-board-2025-anti-idm'),
-        '1.0.0',
-        true
-    );
-    
-    // Localize script for AJAX
-    wp_localize_script('arab-board-2025-script', 'arabBoard2025Ajax', array(
-        'ajaxurl' => admin_url('admin-ajax.php'),
-        'nonce' => wp_create_nonce('arab_board_2025_nonce')
-    ));
-}
-add_action('wp_enqueue_scripts', 'arab_board_2025_scripts');
-
-// Add admin styles and scripts
-function arab_board_2025_admin_scripts() {
-    wp_enqueue_media();
-    wp_enqueue_script('jquery-ui-datepicker');
-    wp_enqueue_script('jquery-ui-sortable');
-    wp_enqueue_style('wp-color-picker');
-    wp_enqueue_script('wp-color-picker');
-    
-    // Admin custom CSS
-    wp_enqueue_style(
-        'arab-board-2025-admin',
-        get_template_directory_uri() . '/assets/css/admin.css',
-        array(),
-        '1.0.0'
-    );
-    
-    // Admin custom JS
-    wp_enqueue_script(
-        'arab-board-2025-admin-js',
-        get_template_directory_uri() . '/assets/js/admin.js',
-        array('jquery', 'wp-color-picker'),
-        '1.0.0',
-        true
-    );
-}
-add_action('admin_enqueue_scripts', 'arab_board_2025_admin_scripts');
-
-// Enhanced PDF Anti-IDM Protection Functions
-function arab_board_2025_pdf_protection() {
-    // Add anti-IDM headers for PDF requests
-    if (isset($_GET['pdf']) || strpos($_SERVER['REQUEST_URI'], '.pdf') !== false) {
-        header('X-Robots-Tag: noindex, nofollow, noarchive, nosnippet');
-        header('X-Content-Type-Options: nosniff');
-        header('Cache-Control: no-cache, no-store, must-revalidate, private');
-        header('Pragma: no-cache');
-        header('Expires: 0');
-        header('X-Frame-Options: SAMEORIGIN');
-        header('X-Download-Options: noopen');
-        header('Content-Security-Policy: frame-ancestors \'self\'');
-    }
-}
-add_action('init', 'arab_board_2025_pdf_protection');
-
-// Add anti-IDM JavaScript to head
-function arab_board_2025_anti_idm_script() {
-    echo '<script>\n';
-    echo '// Ultimate IDM Blocker - Enhanced Version\n';
-    echo 'if (typeof window.external !== "undefined") { window.external = null; }\n';
-    echo 'Object.defineProperty(window, "chrome", { value: null, writable: false });\n';
-    echo 'document.addEventListener("DOMContentLoaded", function() {\n';
-    echo '    const observer = new MutationObserver(function(mutations) {\n';
-    echo '        mutations.forEach(function(mutation) {\n';
-    echo '            mutation.addedNodes.forEach(function(node) {\n';
-    echo '                if (node.nodeType === 1 && (node.className.includes("idm") || node.id.includes("idm"))) {\n';
-    echo '                    node.remove();\n';
-    echo '                }\n';
-    echo '            });\n';
-    echo '        });\n';
-    echo '    });\n';
-    echo '    observer.observe(document.body, { childList: true, subtree: true });\n';
-    echo '});\n';
-    echo '</script>\n';
-}
-add_action('wp_head', 'arab_board_2025_anti_idm_script', 1);
-
-// Enhanced PDF MIME type handling
-function arab_board_2025_pdf_mime_types($mimes) {
-    $mimes['pdf'] = 'application/pdf';
-    return $mimes;
-}
-add_filter('upload_mimes', 'arab_board_2025_pdf_mime_types');
-
-// Add custom PDF protection headers
-function arab_board_2025_pdf_headers() {
-    if (is_admin()) return;
-    
-    // Anti-IDM meta tags
-    echo '<meta name="robots" content="noindex, nofollow, noarchive, nosnippet">\n';
-    echo '<meta http-equiv="X-Download-Options" content="noopen">\n';
-    echo '<meta http-equiv="X-Content-Type-Options" content="nosniff">\n';
-    echo '<meta name="referrer" content="no-referrer">\n';
-}
-add_action('wp_head', 'arab_board_2025_pdf_headers', 2);
-
-// PDF proxy endpoint for enhanced security
-function arab_board_2025_pdf_proxy() {
-    if (!isset($_GET['pdf_proxy']) || !isset($_GET['file'])) {
-        return;
-    }
-    
-    $file_url = sanitize_url($_GET['file']);
-    $allowed_domains = array(
-        get_site_url(),
-        'localhost',
-        '127.0.0.1'
-    );
-    
-    $domain_allowed = false;
-    foreach ($allowed_domains as $domain) {
-        if (strpos($file_url, $domain) !== false) {
-            $domain_allowed = true;
-            break;
-        }
-    }
-    
-    if (!$domain_allowed) {
-        wp_die('غير مسموح بالوصول لهذا الملف');
-    }
-    
-    // Anti-IDM headers
-    header('Content-Type: text/html; charset=UTF-8');
-    header('X-Robots-Tag: noindex, nofollow');
-    header('Cache-Control: no-cache, private');
-    header('X-Frame-Options: SAMEORIGIN');
-    header('Content-Security-Policy: frame-ancestors \'self\'');
-    
-    // Output HTML iframe wrapper
-    echo '<!DOCTYPE html><html><head><meta charset="UTF-8"><title>PDF Viewer</title>';
-    echo '<style>body{margin:0;padding:0;}iframe{width:100%;height:100vh;border:none;}</style>';
-    echo '</head><body>';
-    echo '<iframe src="' . esc_url($file_url) . '#toolbar=1&navpanes=1&scrollbar=1" title="PDF Viewer"></iframe>';
-    echo '</body></html>';
-    exit;
-}
-add_action('init', 'arab_board_2025_pdf_proxy');
-
-// Simple Anti-IDM Protection - Direct in functions.php
-function simple_anti_idm_protection() {
-    if (!is_admin()) {
-        ?>
-        <script type="text/javascript">
-        console.log('🔒 Simple Anti-IDM Protection Active');
-        // Basic IDM blocking
-        if (typeof window.external !== 'undefined') {
-            window.external = null;
-        }
-        if (window.chrome && window.chrome.webstore) {
-            delete window.chrome.webstore;
-        }
-        // Monitor for IDM elements
-        if (document.addEventListener) {
-            document.addEventListener('DOMContentLoaded', function() {
-                setInterval(function() {
-                    const idmElements = document.querySelectorAll('[class*="idm"], [id*="idm"]');
-                    idmElements.forEach(function(el) { 
-                        try { el.remove(); } catch(e) {} 
-                    });
-                }, 1000);
-            });
-        }
-        </script>
-        <style type="text/css">
-        [class*="idm"], [id*="idm"] { display: none !important; }
-        iframe[src*=".pdf"] { 
-            user-select: none !important; 
-            -webkit-user-select: none !important; 
-        }
-        </style>
-        <?php
-    }
-}
-add_action('wp_head', 'simple_anti_idm_protection', 1);
-
-// Add custom meta boxes
-function arab_board_2025_add_meta_boxes() {
-    $screens = array('page');
-    
-    foreach ($screens as $screen) {
-        // Event Settings Meta Box
-        add_meta_box(
-            'event_settings',
-            __('إعدادات الفعالية', 'arab-board-event-2025'),
-            'arab_board_2025_event_settings_callback',
-            $screen,
-            'normal',
-            'high'
-        );
-        
-        // Day 1 Content Meta Box  
-        add_meta_box(
-            'day_1_content',
-            __('محتوى اليوم الأول', 'arab-board-event-2025'),
-            'arab_board_2025_day_1_content_callback',
-            $screen,
-            'normal',
-            'high'
-        );
-        
-        // Day 2 Content Meta Box
-        add_meta_box(
-            'day_2_content', 
-            __('محتوى اليوم الثاني', 'arab-board-event-2025'),
-            'arab_board_2025_day_2_content_callback',
-            $screen,
-            'normal',
-            'high'
-        );
-        
-        // QR Cards Meta Box
-        add_meta_box(
-            'qr_cards',
-            __('بطاقات QR', 'arab-board-event-2025'),
-            'arab_board_2025_qr_cards_callback',
-            $screen,
-            'normal',
-            'high'
-        );
-    }
-}
-add_action('add_meta_boxes', 'arab_board_2025_add_meta_boxes');
-
-// Event Settings Callback
-function arab_board_2025_event_settings_callback($post) {
-    wp_nonce_field('arab_board_2025_meta_nonce', 'arab_board_2025_meta_nonce');
-    
-    $event_title_ar = get_post_meta($post->ID, '_event_title_ar', true);
-    $event_title_en = get_post_meta($post->ID, '_event_title_en', true);
-    $event_subtitle_ar = get_post_meta($post->ID, '_event_subtitle_ar', true);
-    $event_subtitle_en = get_post_meta($post->ID, '_event_subtitle_en', true);
-    $event_date_start = get_post_meta($post->ID, '_event_date_start', true);
-    $event_date_end = get_post_meta($post->ID, '_event_date_end', true);
-    $event_location_ar = get_post_meta($post->ID, '_event_location_ar', true);
-    $event_location_en = get_post_meta($post->ID, '_event_location_en', true);
-    $event_language = get_post_meta($post->ID, '_event_language', true) ?: 'ar';
-    
-    ?>
-    <table class="form-table">
-        <tr>
-            <th><label for="event_language"><?php _e('لغة الموقع:', 'arab-board-event-2025'); ?></label></th>
-            <td>
-                <select id="event_language" name="event_language" class="regular-text">
-                    <option value="ar" <?php selected($event_language, 'ar'); ?>><?php _e('العربية', 'arab-board-event-2025'); ?></option>
-                    <option value="en" <?php selected($event_language, 'en'); ?>><?php _e('English', 'arab-board-event-2025'); ?></option>
-                </select>
-            </td>
-        </tr>
-        <tr>
-            <th><label for="event_title_ar"><?php _e('عنوان الفعالية (عربي):', 'arab-board-event-2025'); ?></label></th>
-            <td><input type="text" id="event_title_ar" name="event_title_ar" value="<?php echo esc_attr($event_title_ar); ?>" class="regular-text" /></td>
-        </tr>
-        <tr>
-            <th><label for="event_title_en"><?php _e('عنوان الفعالية (إنجليزي):', 'arab-board-event-2025'); ?></label></th>
-            <td><input type="text" id="event_title_en" name="event_title_en" value="<?php echo esc_attr($event_title_en); ?>" class="regular-text" /></td>
-        </tr>
-        <tr>
-            <th><label for="event_subtitle_ar"><?php _e('العنوان الفرعي (عربي):', 'arab-board-event-2025'); ?></label></th>
-            <td><input type="text" id="event_subtitle_ar" name="event_subtitle_ar" value="<?php echo esc_attr($event_subtitle_ar); ?>" class="regular-text" /></td>
-        </tr>
-        <tr>
-            <th><label for="event_subtitle_en"><?php _e('العنوان الفرعي (إنجليزي):', 'arab-board-event-2025'); ?></label></th>
-            <td><input type="text" id="event_subtitle_en" name="event_subtitle_en" value="<?php echo esc_attr($event_subtitle_en); ?>" class="regular-text" /></td>
-        </tr>
-        <tr>
-            <th><label for="event_date_start"><?php _e('تاريخ البداية:', 'arab-board-event-2025'); ?></label></th>
-            <td><input type="date" id="event_date_start" name="event_date_start" value="<?php echo esc_attr($event_date_start); ?>" class="regular-text" /></td>
-        </tr>
-        <tr>
-            <th><label for="event_date_end"><?php _e('تاريخ النهاية:', 'arab-board-event-2025'); ?></label></th>
-            <td><input type="date" id="event_date_end" name="event_date_end" value="<?php echo esc_attr($event_date_end); ?>" class="regular-text" /></td>
-        </tr>
-        <tr>
-            <th><label for="event_location_ar"><?php _e('المكان (عربي):', 'arab-board-event-2025'); ?></label></th>
-            <td><input type="text" id="event_location_ar" name="event_location_ar" value="<?php echo esc_attr($event_location_ar); ?>" class="regular-text" /></td>
-        </tr>
-        <tr>
-            <th><label for="event_location_en"><?php _e('المكان (إنجليزي):', 'arab-board-event-2025'); ?></label></th>
-            <td><input type="text" id="event_location_en" name="event_location_en" value="<?php echo esc_attr($event_location_en); ?>" class="regular-text" /></td>
-        </tr>
-    </table>
-    <?php
-}
-
-// Day 1 Content Callback
-function arab_board_2025_day_1_content_callback($post) {
-    $day1_pdf = get_post_meta($post->ID, '_day1_pdf', true);
-    $day1_images = get_post_meta($post->ID, '_day1_images', true) ?: array();
-    $day1_schedule = get_post_meta($post->ID, '_day1_schedule', true) ?: array();
-    
-    ?>
-    <div class="day-content-admin">
-        <!-- PDF Upload -->
-        <h4><?php _e('ملف PDF لليوم الأول:', 'arab-board-event-2025'); ?></h4>
-        <input type="hidden" id="day1_pdf" name="day1_pdf" value="<?php echo esc_attr($day1_pdf); ?>" />
-        <button type="button" class="button upload-pdf-btn" data-target="day1_pdf"><?php _e('رفع PDF', 'arab-board-event-2025'); ?></button>
-        <button type="button" class="button remove-pdf-btn" data-target="day1_pdf"><?php _e('حذف PDF', 'arab-board-event-2025'); ?></button>
-        <div class="pdf-preview" id="day1_pdf_preview">
-            <?php if ($day1_pdf): ?>
-                <a href="<?php echo esc_url($day1_pdf); ?>" target="_blank"><?php _e('عرض PDF', 'arab-board-event-2025'); ?></a>
-            <?php endif; ?>
-        </div>
-        
-        <!-- Images Gallery -->
-        <h4><?php _e('صور اليوم الأول:', 'arab-board-event-2025'); ?></h4>
-        <div class="images-gallery-admin" id="day1_images_gallery">
-            <?php foreach ($day1_images as $image): ?>
-                <div class="image-item">
-                    <img src="<?php echo esc_url($image); ?>" style="max-width: 100px;" />
-                    <input type="hidden" name="day1_images[]" value="<?php echo esc_attr($image); ?>" />
-                    <button type="button" class="button remove-image-btn"><?php _e('حذف', 'arab-board-event-2025'); ?></button>
-                </div>
-            <?php endforeach; ?>
-        </div>
-        <button type="button" class="button add-images-btn" data-target="day1_images_gallery" data-name="day1_images"><?php _e('إضافة صور', 'arab-board-event-2025'); ?></button>
-        
-        <!-- Schedule Table -->
-        <h4><?php _e('جدول أعمال اليوم الأول:', 'arab-board-event-2025'); ?></h4>
-        <div class="schedule-admin" id="day1_schedule">
-            <table class="widefat">
-                <thead>
-                    <tr>
-                        <th><?php _e('الوقت', 'arab-board-event-2025'); ?></th>
-                        <th><?php _e('النشاط (عربي)', 'arab-board-event-2025'); ?></th>
-                        <th><?php _e('النشاط (إنجليزي)', 'arab-board-event-2025'); ?></th>
-                        <th><?php _e('إجراءات', 'arab-board-event-2025'); ?></th>
-                    </tr>
-                </thead>
-                <tbody class="schedule-tbody">
-                    <?php foreach ($day1_schedule as $index => $item): ?>
-                        <tr>
-                            <td><input type="time" name="day1_schedule[<?php echo $index; ?>][time]" value="<?php echo esc_attr($item['time'] ?? ''); ?>" /></td>
-                            <td><input type="text" name="day1_schedule[<?php echo $index; ?>][activity_ar]" value="<?php echo esc_attr($item['activity_ar'] ?? ''); ?>" /></td>
-                            <td><input type="text" name="day1_schedule[<?php echo $index; ?>][activity_en]" value="<?php echo esc_attr($item['activity_en'] ?? ''); ?>" /></td>
-                            <td><button type="button" class="button remove-schedule-row"><?php _e('حذف', 'arab-board-event-2025'); ?></button></td>
-                        </tr>
-                    <?php endforeach; ?>
-                </tbody>
-            </table>
-            <button type="button" class="button add-schedule-row" data-day="1"><?php _e('إضافة صف', 'arab-board-event-2025'); ?></button>
-        </div>
-    </div>
-    <?php
-}
-
-// Day 2 Content Callback
-function arab_board_2025_day_2_content_callback($post) {
-    $day2_pdf = get_post_meta($post->ID, '_day2_pdf', true);
-    $day2_images = get_post_meta($post->ID, '_day2_images', true) ?: array();
-    $day2_schedule = get_post_meta($post->ID, '_day2_schedule', true) ?: array();
-    
-    ?>
-    <div class="day-content-admin">
-        <!-- PDF Upload -->
-        <h4><?php _e('ملف PDF لليوم الثاني:', 'arab-board-event-2025'); ?></h4>
-        <input type="hidden" id="day2_pdf" name="day2_pdf" value="<?php echo esc_attr($day2_pdf); ?>" />
-        <button type="button" class="button upload-pdf-btn" data-target="day2_pdf"><?php _e('رفع PDF', 'arab-board-event-2025'); ?></button>
-        <button type="button" class="button remove-pdf-btn" data-target="day2_pdf"><?php _e('حذف PDF', 'arab-board-event-2025'); ?></button>
-        <div class="pdf-preview" id="day2_pdf_preview">
-            <?php if ($day2_pdf): ?>
-                <a href="<?php echo esc_url($day2_pdf); ?>" target="_blank"><?php _e('عرض PDF', 'arab-board-event-2025'); ?></a>
-            <?php endif; ?>
-        </div>
-        
-        <!-- Images Gallery -->
-        <h4><?php _e('صور اليوم الثاني:', 'arab-board-event-2025'); ?></h4>
-        <div class="images-gallery-admin" id="day2_images_gallery">
-            <?php foreach ($day2_images as $image): ?>
-                <div class="image-item">
-                    <img src="<?php echo esc_url($image); ?>" style="max-width: 100px;" />
-                    <input type="hidden" name="day2_images[]" value="<?php echo esc_attr($image); ?>" />
-                    <button type="button" class="button remove-image-btn"><?php _e('حذف', 'arab-board-event-2025'); ?></button>
-                </div>
-            <?php endforeach; ?>
-        </div>
-        <button type="button" class="button add-images-btn" data-target="day2_images_gallery" data-name="day2_images"><?php _e('إضافة صور', 'arab-board-event-2025'); ?></button>
-        
-        <!-- Schedule Table -->
-        <h4><?php _e('جدول أعمال اليوم الثاني:', 'arab-board-event-2025'); ?></h4>
-        <div class="schedule-admin" id="day2_schedule">
-            <table class="widefat">
-                <thead>
-                    <tr>
-                        <th><?php _e('الوقت', 'arab-board-event-2025'); ?></th>
-                        <th><?php _e('النشاط (عربي)', 'arab-board-event-2025'); ?></th>
-                        <th><?php _e('النشاط (إنجليزي)', 'arab-board-event-2025'); ?></th>
-                        <th><?php _e('إجراءات', 'arab-board-event-2025'); ?></th>
-                    </tr>
-                </thead>
-                <tbody class="schedule-tbody">
-                    <?php foreach ($day2_schedule as $index => $item): ?>
-                        <tr>
-                            <td><input type="time" name="day2_schedule[<?php echo $index; ?>][time]" value="<?php echo esc_attr($item['time'] ?? ''); ?>" /></td>
-                            <td><input type="text" name="day2_schedule[<?php echo $index; ?>][activity_ar]" value="<?php echo esc_attr($item['activity_ar'] ?? ''); ?>" /></td>
-                            <td><input type="text" name="day2_schedule[<?php echo $index; ?>][activity_en]" value="<?php echo esc_attr($item['activity_en'] ?? ''); ?>" /></td>
-                            <td><button type="button" class="button remove-schedule-row"><?php _e('حذف', 'arab-board-event-2025'); ?></button></td>
-                        </tr>
-                    <?php endforeach; ?>
-                </tbody>
-            </table>
-            <button type="button" class="button add-schedule-row" data-day="2"><?php _e('إضافة صف', 'arab-board-event-2025'); ?></button>
-        </div>
-    </div>
-    <?php
-}
-
-// QR Cards Callback
-function arab_board_2025_qr_cards_callback($post) {
-    $qr_cards = get_post_meta($post->ID, '_qr_cards', true) ?: array();
-    
-    ?>
-    <div class="qr-cards-admin" id="qr_cards_admin">
-        <?php foreach ($qr_cards as $index => $card): ?>
-            <div class="qr-card-item">
-                <table class="form-table">
-                    <tr>
-                        <th><label><?php _e('اسم البطاقة (عربي):', 'arab-board-event-2025'); ?></label></th>
-                        <td><input type="text" name="qr_cards[<?php echo $index; ?>][name_ar]" value="<?php echo esc_attr($card['name_ar'] ?? ''); ?>" /></td>
-                    </tr>
-                    <tr>
-                        <th><label><?php _e('اسم البطاقة (إنجليزي):', 'arab-board-event-2025'); ?></label></th>
-                        <td><input type="text" name="qr_cards[<?php echo $index; ?>][name_en]" value="<?php echo esc_attr($card['name_en'] ?? ''); ?>" /></td>
-                    </tr>
-                    <tr>
-                        <th><label><?php _e('الرابط:', 'arab-board-event-2025'); ?></label></th>
-                        <td><input type="url" name="qr_cards[<?php echo $index; ?>][url]" value="<?php echo esc_attr($card['url'] ?? ''); ?>" /></td>
-                    </tr>
-                    <tr>
-                        <th><label><?php _e('صورة QR:', 'arab-board-event-2025'); ?></label></th>
-                        <td>
-                            <input type="hidden" name="qr_cards[<?php echo $index; ?>][qr_image]" value="<?php echo esc_attr($card['qr_image'] ?? ''); ?>" class="qr-image-input" />
-                            <button type="button" class="button upload-qr-btn"><?php _e('رفع صورة QR', 'arab-board-event-2025'); ?></button>
-                            <button type="button" class="button remove-qr-image-btn"><?php _e('حذف الصورة', 'arab-board-event-2025'); ?></button>
-                            <div class="qr-image-preview">
-                                <?php if (!empty($card['qr_image'])): ?>
-                                    <img src="<?php echo esc_url($card['qr_image']); ?>" style="max-width: 100px;" />
-                                <?php endif; ?>
-                            </div>
-                        </td>
-                    </tr>
-                </table>
-                <button type="button" class="button remove-qr-card"><?php _e('حذف البطاقة', 'arab-board-event-2025'); ?></button>
-                <hr />
-            </div>
-        <?php endforeach; ?>
-    </div>
-    <button type="button" class="button-primary add-qr-card"><?php _e('إضافة بطاقة QR جديدة', 'arab-board-event-2025'); ?></button>
-    <?php
-}
-
-// Save meta box data
-function arab_board_2025_save_meta_boxes($post_id) {
-    // Check if user has permission to edit the post
-    if (!current_user_can('edit_post', $post_id)) {
-        return;
-    }
-    
-    // Verify nonce
-    if (!isset($_POST['arab_board_2025_meta_nonce']) || !wp_verify_nonce($_POST['arab_board_2025_meta_nonce'], 'arab_board_2025_meta_nonce')) {
-        return;
-    }
-    
-    // Save event settings
-    $event_fields = array(
-        'event_title_ar', 'event_title_en', 'event_subtitle_ar', 'event_subtitle_en',
-        'event_date_start', 'event_date_end', 'event_location_ar', 'event_location_en', 'event_language'
-    );
-    
-    foreach ($event_fields as $field) {
-        if (isset($_POST[$field])) {
-            update_post_meta($post_id, '_' . $field, sanitize_text_field($_POST[$field]));
-        }
-    }
-    
-    // Save day content
-    for ($day = 1; $day <= 2; $day++) {
-        // Save PDF
-        if (isset($_POST["day{$day}_pdf"])) {
-            update_post_meta($post_id, "_day{$day}_pdf", esc_url_raw($_POST["day{$day}_pdf"]));
-        }
-        
-        // Save images
-        if (isset($_POST["day{$day}_images"]) && is_array($_POST["day{$day}_images"])) {
-            $images = array_map('esc_url_raw', $_POST["day{$day}_images"]);
-            update_post_meta($post_id, "_day{$day}_images", $images);
-        } else {
-            delete_post_meta($post_id, "_day{$day}_images");
-        }
-        
-        // Save schedule
-        if (isset($_POST["day{$day}_schedule"]) && is_array($_POST["day{$day}_schedule"])) {
-            $schedule = array();
-            foreach ($_POST["day{$day}_schedule"] as $item) {
-                if (!empty($item['time']) || !empty($item['activity_ar']) || !empty($item['activity_en'])) {
-                    $schedule[] = array(
-                        'time' => sanitize_text_field($item['time']),
-                        'activity_ar' => sanitize_text_field($item['activity_ar']),
-                        'activity_en' => sanitize_text_field($item['activity_en'])
-                    );
-                }
-            }
-            update_post_meta($post_id, "_day{$day}_schedule", $schedule);
-        } else {
-            delete_post_meta($post_id, "_day{$day}_schedule");
-        }
-    }
-    
-    // Save QR cards
-    if (isset($_POST['qr_cards']) && is_array($_POST['qr_cards'])) {
-        $qr_cards = array();
-        foreach ($_POST['qr_cards'] as $card) {
-            if (!empty($card['name_ar']) || !empty($card['name_en']) || !empty($card['url'])) {
-                $qr_cards[] = array(
-                    'name_ar' => sanitize_text_field($card['name_ar']),
-                    'name_en' => sanitize_text_field($card['name_en']),
-                    'url' => esc_url_raw($card['url']),
-                    'qr_image' => esc_url_raw($card['qr_image'])
-                );
-            }
-        }
-        update_post_meta($post_id, '_qr_cards', $qr_cards);
-    } else {
-        delete_post_meta($post_id, '_qr_cards');
-    }
-}
-add_action('save_post', 'arab_board_2025_save_meta_boxes');
-
-// Helper function to get event data
-function arab_board_2025_get_event_data($post_id = null) {
-    if (!$post_id) {
-        $post_id = get_the_ID();
-    }
-    
-    if (!$post_id) {
-        $post_id = get_option('page_on_front');
-    }
-    
-    if (!$post_id) {
-        return array();
-    }
-    
-    return array(
-        'language' => get_post_meta($post_id, '_event_language', true) ?: 'ar',
-        'title_ar' => get_post_meta($post_id, '_event_title_ar', true),
-        'title_en' => get_post_meta($post_id, '_event_title_en', true),
-        'subtitle_ar' => get_post_meta($post_id, '_event_subtitle_ar', true),
-        'subtitle_en' => get_post_meta($post_id, '_event_subtitle_en', true),
-        'date_start' => get_post_meta($post_id, '_event_date_start', true),
-        'date_end' => get_post_meta($post_id, '_event_date_end', true),
-        'location_ar' => get_post_meta($post_id, '_event_location_ar', true),
-        'location_en' => get_post_meta($post_id, '_event_location_en', true),
-        'day1_pdf' => get_post_meta($post_id, '_day1_pdf', true),
-        'day1_images' => get_post_meta($post_id, '_day1_images', true) ?: array(),
-        'day1_schedule' => get_post_meta($post_id, '_day1_schedule', true) ?: array(),
-        'day2_pdf' => get_post_meta($post_id, '_day2_pdf', true),
-        'day2_images' => get_post_meta($post_id, '_day2_images', true) ?: array(),
-        'day2_schedule' => get_post_meta($post_id, '_day2_schedule', true) ?: array(),
-        'qr_cards' => get_post_meta($post_id, '_qr_cards', true) ?: array()
-    );
-}
\ No newline at end of file
diff --git a/localhost-8090-test.html b/localhost-8090-test.html
deleted file mode 100644
index e69de29..0000000
diff --git a/pdf-proxy.php b/pdf-proxy.php
index f03207e..1eecf32 100644
--- a/pdf-proxy.php
+++ b/pdf-proxy.php
@@ -1,303 +1,82 @@
 <?php
 /**
- * PDF Proxy - مخفي عن IDM
- * يعمل كوسيط لعرض ملفات PDF دون كشفها لبرامج التحميل
+ * وسيط مبسط لعرض وتحميل ملفات PDF من خلال ووردبريس.
  */
 
-// منع الوصول المباشر
 if (!defined('ABSPATH')) {
-    // إذا لم يكن WordPress محملاً، حمله
     $wp_path = dirname(dirname(dirname(dirname(__FILE__))));
-    require_once($wp_path . '/wp-load.php');
+    require_once $wp_path . '/wp-load.php';
 }
 
-// التحقق من وجود معاملات
-if (!isset($_GET['file']) || empty($_GET['file'])) {
-    http_response_code(404);
-    die('ملف غير موجود');
+if (empty($_GET['file'])) {
+    wp_die('ملف غير موجود', 'PDF Proxy', array('response' => 404));
 }
 
-// فك تشفير الملف
-$file_data = base64_decode($_GET['file']);
-if (!$file_data) {
-    http_response_code(400);
-    die('بيانات غير صحيحة');
+$payload = base64_decode(wp_unslash($_GET['file']));
+$file_data = json_decode($payload, true);
+
+if (!is_array($file_data) || empty($file_data['url'])) {
+    wp_die('بيانات الملف غير صحيحة', 'PDF Proxy', array('response' => 400));
+}
+
+$pdf_url = esc_url_raw($file_data['url']);
+if (!$pdf_url || !filter_var($pdf_url, FILTER_VALIDATE_URL)) {
+    wp_die('رابط غير صالح', 'PDF Proxy', array('response' => 400));
 }
 
-// استخراج المعلومات
-$file_info = json_decode($file_data, true);
-if (!$file_info || !isset($file_info['url'])) {
-    http_response_code(400);
-    die('بيانات الملف غير صحيحة');
+$action = 'view';
+if (!empty($_GET['action'])) {
+    $candidate = sanitize_key(wp_unslash($_GET['action']));
+    if (in_array($candidate, array('view', 'download'), true)) {
+        $action = $candidate;
+    }
 }
 
-$pdf_url = $file_info['url'];
-$day = isset($file_info['day']) ? $file_info['day'] : 'unknown';
+$context = isset($file_data['context']) ? sanitize_title($file_data['context']) : 'document';
+$filename = $context ? $context . '.pdf' : 'document.pdf';
+$filename = sanitize_file_name($filename);
 
-// التحقق من صحة الرابط
-if (!filter_var($pdf_url, FILTER_VALIDATE_URL)) {
-    http_response_code(400);
-    die('رابط غير صحيح');
+$response = wp_remote_get(
+    $pdf_url,
+    array(
+        'timeout'     => 20,
+        'redirection' => 3,
+        'headers'     => array(
+            'Accept'     => 'application/pdf,application/octet-stream;q=0.9,*/*;q=0.8',
+            'User-Agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) ArabBoardPDFProxy/1.0',
+        ),
+    )
+);
+
+if (is_wp_error($response)) {
+    wp_die('تعذر الوصول إلى الملف', 'PDF Proxy', array('response' => 502));
 }
 
-// Headers مضادة لـ IDM
-header('X-Robots-Tag: noindex, nofollow, nosnippet, noarchive');
-header('X-Content-Type-Options: nosniff');
-header('X-Frame-Options: SAMEORIGIN');
-header('Referrer-Policy: no-referrer');
-header('Cache-Control: no-store, no-cache, must-revalidate, max-age=0');
-header('Pragma: no-cache');
-header('Expires: Thu, 01 Jan 1970 00:00:00 GMT');
+$status_code = (int) wp_remote_retrieve_response_code($response);
+if ($status_code >= 400) {
+    wp_die('تعذر تحميل الملف (رمز الاستجابة: ' . $status_code . ')', 'PDF Proxy', array('response' => $status_code));
+}
 
-// معرف فريد لمنع الكشف
-$unique_id = uniqid('pdf_', true);
-header('X-Request-ID: ' . $unique_id);
-header('X-Content-Source: embedded');
+$body = wp_remote_retrieve_body($response);
+if ('' === $body) {
+    wp_die('ملف فارغ أو غير متوفر', 'PDF Proxy', array('response' => 404));
+}
 
-// إذا كان الطلب لعرض مباشر
-if (isset($_GET['view']) && $_GET['view'] === 'direct') {
-    // تحديد نوع المحتوى
-    header('Content-Type: application/pdf');
-    header('Content-Disposition: inline; filename="document_' . $day . '.pdf"');
-    
-    // إنشاء context للطلب مع Headers مخفية
-    $context = stream_context_create([
-        'http' => [
-            'method' => 'GET',
-            'header' => [
-                'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36',
-                'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',
-                'Accept-Language: ar,en-US;q=0.7,en;q=0.3',
-                'Accept-Encoding: identity',
-                'DNT: 1',
-                'Connection: keep-alive',
-                'Upgrade-Insecure-Requests: 1',
-                'Sec-Fetch-Dest: document',
-                'Sec-Fetch-Mode: navigate',
-                'Sec-Fetch-Site: cross-site'
-            ],
-            'timeout' => 30,
-            'ignore_errors' => true
-        ]
-    ]);
-    
-    // جلب الملف وإرساله
-    $file_content = file_get_contents($pdf_url, false, $context);
-    
-    if ($file_content === false) {
-        http_response_code(404);
-        die('لا يمكن الوصول للملف');
-    }
-    
-    // إرسال المحتوى
-    echo $file_content;
-    exit;
+if (function_exists('mb_strlen')) {
+    $content_length = mb_strlen($body, '8bit');
+} else {
+    $content_length = strlen($body);
 }
 
-// عرض الصفحة المدمجة
-?>
-<!DOCTYPE html>
-<html dir="rtl" lang="ar">
-<head>
-    <meta charset="UTF-8">
-    <meta name="viewport" content="width=device-width, initial-scale=1.0">
-    <meta name="robots" content="noindex, nofollow">
-    <title>عارض PDF - <?php echo htmlspecialchars($day, ENT_QUOTES, 'UTF-8'); ?></title>
-    <style>
-        * {
-            margin: 0;
-            padding: 0;
-            box-sizing: border-box;
-        }
-        
-        body {
-            font-family: 'Arial', sans-serif;
-            background: #f5f5f5;
-            height: 100vh;
-            overflow: hidden;
-            /* حماية من IDM */
-            -webkit-user-select: none;
-            -moz-user-select: none;
-            -ms-user-select: none;
-            user-select: none;
-            -webkit-touch-callout: none;
-            -webkit-tap-highlight-color: transparent;
-        }
-        
-        .viewer-container {
-            width: 100%;
-            height: 100vh;
-            position: relative;
-            background: white;
-            /* إخفاء من IDM */
-            opacity: 0.999;
-            transform: translateZ(0);
-            will-change: transform;
-        }
-        
-        .pdf-frame {
-            width: 100%;
-            height: 100%;
-            border: none;
-            display: block;
-            /* حماية متقدمة من IDM */
-            pointer-events: auto;
-            -webkit-user-select: none;
-            -moz-user-select: none;
-            user-select: none;
-            /* فلاتر دقيقة لتضليل IDM */
-            filter: brightness(1.001) contrast(1.001);
-            transform: scale(1.0001);
-        }
-        
-        .loading {
-            position: absolute;
-            top: 50%;
-            left: 50%;
-            transform: translate(-50%, -50%);
-            text-align: center;
-            font-size: 18px;
-            color: #156b68;
-            z-index: 10;
-        }
-        
-        .spinner {
-            width: 40px;
-            height: 40px;
-            border: 4px solid #f3f3f3;
-            border-top: 4px solid #156b68;
-            border-radius: 50%;
-            animation: spin 1s linear infinite;
-            margin: 0 auto 20px;
-        }
-        
-        @keyframes spin {
-            0% { transform: rotate(0deg); }
-            100% { transform: rotate(360deg); }
-        }
-        
-        /* حماية من overlays IDM */
-        body::before,
-        body::after,
-        .viewer-container::before,
-        .viewer-container::after {
-            content: none !important;
-            display: none !important;
-        }
-        
-        /* منع IDM من إدراج عناصر */
-        [class*="idm"], [id*="idm"], [class*="download"], [id*="download"] {
-            display: none !important;
-            visibility: hidden !important;
-            opacity: 0 !important;
-            position: absolute !important;
-            left: -9999px !important;
-        }
-    </style>
-</head>
-<body>
-    <div class="viewer-container">
-        <div class="loading" id="loading">
-            <div class="spinner"></div>
-            <p>جاري تحميل المستند...</p>
-        </div>
-        
-        <iframe 
-            id="pdfFrame" 
-            class="pdf-frame"
-            style="display: none;"
-            data-no-idm="true"
-            data-anti-download="true"
-            sandbox="allow-same-origin allow-scripts allow-forms allow-popups"
-            loading="lazy">
-        </iframe>
-    </div>
+header('Content-Type: application/pdf');
+header('Content-Length: ' . $content_length);
+header('Content-Disposition: ' . ($action === 'download' ? 'attachment' : 'inline') . '; filename="' . $filename . '"');
+header('X-Content-Type-Options: nosniff');
+header('Cache-Control: no-store, no-cache, must-revalidate, max-age=0');
+header('Pragma: no-cache');
+header('Expires: 0');
+header('Referrer-Policy: no-referrer');
+header('X-Robots-Tag: noindex, nofollow');
 
-    <script>
-        // منع IDM من العمل
-        (function() {
-            'use strict';
-            
-            // حماية النافذة من IDM
-            Object.defineProperty(window, 'external', {
-                value: null,
-                writable: false,
-                configurable: false
-            });
-            
-            // منع اختصارات IDM
-            document.addEventListener('keydown', function(e) {
-                if ((e.ctrlKey && (e.key === 's' || e.key === 'd')) || 
-                    (e.altKey && e.type === 'click')) {
-                    e.preventDefault();
-                    e.stopPropagation();
-                    return false;
-                }
-            }, true);
-            
-            // منع النقر الأيمن
-            document.addEventListener('contextmenu', function(e) {
-                e.preventDefault();
-                return false;
-            }, true);
-            
-            // منع السحب والإفلات
-            document.addEventListener('dragstart', function(e) {
-                e.preventDefault();
-                return false;
-            }, true);
-            
-            // مراقب IDM
-            const observer = new MutationObserver(function(mutations) {
-                mutations.forEach(function(mutation) {
-                    mutation.addedNodes.forEach(function(node) {
-                        if (node.nodeType === 1) {
-                            // حذف عناصر IDM
-                            if (node.className && typeof node.className === 'string') {
-                                if (node.className.toLowerCase().includes('idm') || 
-                                    node.className.toLowerCase().includes('download')) {
-                                    node.remove();
-                                }
-                            }
-                        }
-                    });
-                });
-            });
-            
-            observer.observe(document.body, {
-                childList: true,
-                subtree: true,
-                attributes: true
-            });
-            
-            // تحميل PDF المحمي
-            window.addEventListener('load', function() {
-                const frame = document.getElementById('pdfFrame');
-                const loading = document.getElementById('loading');
-                
-                // إنشاء رابط محمي
-                const protectedUrl = window.location.href + '&view=direct&t=' + Date.now();
-                
-                // تحميل في iframe
-                frame.src = protectedUrl + '#toolbar=0&navpanes=0&scrollbar=1&view=FitH&embedded=true';
-                
-                // إخفاء loading بعد تحميل
-                setTimeout(function() {
-                    loading.style.display = 'none';
-                    frame.style.display = 'block';
-                }, 2000);
-                
-                // معالج تحميل iframe
-                frame.onload = function() {
-                    loading.style.display = 'none';
-                    frame.style.display = 'block';
-                };
-                
-                frame.onerror = function() {
-                    loading.innerHTML = '<p style="color: red;">خطأ في تحميل المستند</p>';
-                };
-            });
-        })();
-    </script>
-</body>
-</html>
\ No newline at end of file
+echo $body;
+exit;
diff --git a/style copy.css b/style copy.css
deleted file mode 100644
index dd2a9b0..0000000
--- a/style copy.css	
+++ /dev/null
@@ -1,238 +0,0 @@
-/*
-Theme Name: Arab Board Event 2025
-Description: موضوع متكامل لملتقى المجلس العربي للاختصاصات الصحية 2025 - يدعم العربية والإنجليزية مع نظام إدارة الفعاليات المتقدم
-Version: 1.2.0
-Author: Arab Board Development Team
-Author URI: https://arabboard.org
-Theme URI: https://arabboard.org/themes/event-2025
-Text Domain: arab-board-event-2025
-Domain Path: /languages
-Requires at least: 6.0
-Tested up to: 6.4
-Requires PHP: 8.0
-License: GPL v2 or later
-License URI: https://www.gnu.org/licenses/gpl-2.0.html
-Tags: events, arabic, rtl, responsive, conference, medical, bilingual
-*/
-
-/* Reset and Base Styles */
-* {
-    margin: 0;
-    padding: 0;
-    box-sizing: border-box;
-}
-
-:root {
-    --primary-color: #156b68;
-    --secondary-color: #caa453;
-    --accent-color: #0f5855;
-    --text-dark: #2c3e50;
-    --text-light: #5a6c7d;
-    --bg-light: #f8fafa;
-    --white: #ffffff;
-    --shadow: 0 4px 20px rgba(21, 107, 104, 0.15);
-    --border-radius: 12px;
-    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
-    --gradient-primary: linear-gradient(135deg, #156b68 0%, #0f5855 100%);
-    --gradient-accent: linear-gradient(135deg, #caa453 0%, #b8934a 100%);
-}
-
-body {
-    font-family: 'Almarai', 'Cairo', 'Roboto', sans-serif;
-    line-height: 1.7;
-    color: var(--text-dark);
-    background: linear-gradient(135deg, var(--bg-light) 0%, var(--white) 100%);
-    direction: rtl;
-    text-align: right;
-}
-
-body.rtl {
-    direction: rtl;
-    text-align: right;
-}
-
-body.ltr {
-    direction: ltr;
-    text-align: left;
-}
-
-/* Immediate color fixes */
-.site-header,
-header {
-    background: var(--gradient-primary) !important;
-    color: var(--white) !important;
-}
-
-.site-title,
-.site-title a,
-h1 {
-    color: var(--secondary-color) !important;
-}
-
-.nav-tab,
-.menu-item a,
-button {
-    background: var(--gradient-primary) !important;
-    color: var(--white) !important;
-    padding: 1rem 2rem !important;
-    border-radius: var(--border-radius) !important;
-    text-decoration: none !important;
-    font-weight: 700 !important;
-    transition: var(--transition) !important;
-}
-
-.nav-tab:hover,
-.menu-item a:hover,
-button:hover {
-    background: var(--gradient-accent) !important;
-    transform: translateY(-2px) !important;
-}
-
-.container {
-    max-width: 1200px;
-    margin: 0 auto;
-    padding: 0 20px;
-}
-
-/* Typography */
-h1, h2, h3, h4, h5, h6 {
-    font-weight: 700;
-    margin: 0 0 1rem 0;
-    color: var(--text-dark);
-}
-
-h1 { font-size: 2.5rem; }
-h2 { font-size: 2rem; }
-h3 { font-size: 1.5rem; }
-
-p {
-    margin: 0 0 1rem 0;
-    color: var(--text-light);
-}
-
-/* Buttons */
-.btn {
-    display: inline-block;
-    padding: 12px 24px;
-    border: none;
-    border-radius: var(--border-radius);
-    text-decoration: none;
-    font-weight: 600;
-    font-size: 1rem;
-    cursor: pointer;
-    transition: var(--transition);
-    text-align: center;
-}
-
-.btn-primary {
-    background: var(--primary-color);
-    color: var(--white);
-}
-
-.btn-primary:hover {
-    background: var(--accent-color);
-    transform: translateY(-2px);
-}
-
-.btn-secondary {
-    background: var(--secondary-color);
-    color: var(--text-dark);
-}
-
-.btn-secondary:hover {
-    background: #b8941f;
-    transform: translateY(-2px);
-}
-
-/* Cards */
-.card {
-    background: var(--white);
-    border-radius: var(--border-radius);
-    box-shadow: var(--shadow);
-    padding: 2rem;
-    margin: 1.5rem 0;
-    transition: var(--transition);
-}
-
-.card:hover {
-    transform: translateY(-5px);
-    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
-}
-
-/* Grid System */
-.row {
-    display: flex;
-    flex-wrap: wrap;
-    margin: -15px;
-}
-
-.col {
-    flex: 1;
-    padding: 15px;
-}
-
-.col-md-6 {
-    flex: 0 0 50%;
-    max-width: 50%;
-}
-
-.col-md-4 {
-    flex: 0 0 33.333333%;
-    max-width: 33.333333%;
-}
-
-.col-md-3 {
-    flex: 0 0 25%;
-    max-width: 25%;
-}
-
-/* Responsive */
-@media (max-width: 768px) {
-    .col-md-6,
-    .col-md-4,
-    .col-md-3 {
-        flex: 0 0 100%;
-        max-width: 100%;
-    }
-    
-    h1 { font-size: 2rem; }
-    h2 { font-size: 1.5rem; }
-    
-    .container {
-        padding: 0 15px;
-    }
-}
-
-/* Loading Animation */
-.loading {
-    display: inline-block;
-    width: 20px;
-    height: 20px;
-    border: 3px solid rgba(255,255,255,.3);
-    border-radius: 50%;
-    border-top-color: var(--white);
-    animation: spin 1s ease-in-out infinite;
-}
-
-@keyframes spin {
-    to { transform: rotate(360deg); }
-}
-
-/* Utility Classes */
-.text-center { text-align: center; }
-.text-right { text-align: right; }
-.text-left { text-align: left; }
-.mb-0 { margin-bottom: 0; }
-.mb-1 { margin-bottom: 1rem; }
-.mb-2 { margin-bottom: 2rem; }
-.mt-1 { margin-top: 1rem; }
-.mt-2 { margin-top: 2rem; }
-.p-1 { padding: 1rem; }
-.p-2 { padding: 2rem; }
-
-/* Print Styles */
-@media print {
-    .no-print { display: none; }
-    body { background: white; }
-    .card { box-shadow: none; border: 1px solid #ddd; }
-}
\ No newline at end of file
